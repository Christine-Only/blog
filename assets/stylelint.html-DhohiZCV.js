import{_ as n,o as s,c as a,a as t}from"./app-C8Xn24jF.js";const e={},p=t(`<h1 id="stylelint配置" tabindex="-1"><a class="header-anchor" href="#stylelint配置"><span>styleLint配置</span></a></h1><div class="custom-container tip"><p class="custom-container-title">TIP</p><p>前置条件：vscode安装并开启<code>stylelint</code>插件</p></div><h2 id="安装stylelint及依赖包" tabindex="-1"><a class="header-anchor" href="#安装stylelint及依赖包"><span>安装stylelint及依赖包</span></a></h2><div class="language-json line-numbers-mode" data-ext="json" data-title="json"><pre class="language-json"><code><span class="token property">&quot;devDependencies&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;stylelint&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^13.13.1&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;stylelint-config-css-modules&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^2.2.0&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;stylelint-config-idiomatic-order&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^8.1.0&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;stylelint-config-prettier&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^8.0.1&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;stylelint-config-standard&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^20.0.0&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;stylelint-declaration-block-no-ignored-properties&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^2.1.0&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;stylelint-order&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^5.0.0&quot;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="根目录创建-stylelintrc-js-文件" tabindex="-1"><a class="header-anchor" href="#根目录创建-stylelintrc-js-文件"><span>根目录创建 <code>.stylelintrc.js</code> 文件</span></a></h2><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token keyword">extends</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token string">&#39;stylelint-config-standard&#39;</span><span class="token punctuation">,</span>
    <span class="token string">&#39;stylelint-config-css-modules&#39;</span><span class="token punctuation">,</span>
    <span class="token string">&#39;stylelint-config-prettier&#39;</span><span class="token punctuation">,</span>
    <span class="token string">&#39;stylelint-config-idiomatic-order&#39;</span><span class="token punctuation">,</span> <span class="token comment">// 排序规则的插件</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token string">&#39;stylelint-declaration-block-no-ignored-properties&#39;</span><span class="token punctuation">,</span> <span class="token comment">// 互斥或不生效的属性校验</span>
    <span class="token string">&#39;stylelint-order&#39;</span><span class="token punctuation">,</span> <span class="token comment">// 属性顺序校验</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token literal-property property">rules</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string-property property">&#39;function-url-quotes&#39;</span><span class="token operator">:</span> <span class="token string">&#39;always&#39;</span><span class="token punctuation">,</span>
    <span class="token string-property property">&#39;selector-attribute-quotes&#39;</span><span class="token operator">:</span> <span class="token string">&#39;always&#39;</span><span class="token punctuation">,</span>
    <span class="token string-property property">&#39;unit-no-unknown&#39;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">ignoreUnits</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#39;rpx&#39;</span><span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token comment">//大小写</span>
    <span class="token string-property property">&#39;value-keyword-case&#39;</span><span class="token operator">:</span> <span class="token string">&#39;lower&#39;</span><span class="token punctuation">,</span>
    <span class="token string-property property">&#39;plugin/declaration-block-no-ignored-properties&#39;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token string-property property">&#39;selector-class-pattern&#39;</span><span class="token operator">:</span> <span class="token string">&#39;^[a-z]+(-|[a-zA-Z0-9])*[a-zA-Z0-9]+$&#39;</span><span class="token punctuation">,</span> <span class="token comment">// 类名兼容小驼峰和短横线</span>
    <span class="token string-property property">&#39;rule-empty-line-before&#39;</span><span class="token operator">:</span> <span class="token string">&#39;always-multi-line&#39;</span><span class="token punctuation">,</span> <span class="token comment">// 在多行规则之前必须有一行空行</span>
    <span class="token string-property property">&#39;declaration-block-trailing-semicolon&#39;</span><span class="token operator">:</span> <span class="token string">&#39;always&#39;</span><span class="token punctuation">,</span> <span class="token comment">// 要求声明块后面有分号</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">ignoreFiles</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#39;**/*.js&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;**/*.jsx&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;**/*.tsx&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;**/*.ts&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// 忽略检查的文件</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="添加lint脚本" tabindex="-1"><a class="header-anchor" href="#添加lint脚本"><span>添加lint脚本</span></a></h2><div class="language-json line-numbers-mode" data-ext="json" data-title="json"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;scripts&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;lint:style&quot;</span><span class="token operator">:</span> <span class="token string">&quot;stylelint \\&quot;src/**/*.less\\&quot;&quot;</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="commit检测" tabindex="-1"><a class="header-anchor" href="#commit检测"><span>commit检测</span></a></h2><div class="language-json line-numbers-mode" data-ext="json" data-title="json"><pre class="language-json"><code><span class="token comment">// package.json</span>

<span class="token property">&quot;lint-staged&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;*.{ts,tsx}&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token string">&quot;eslint&quot;</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token property">&quot;*.less&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token string">&quot;stylelint&quot;</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="custom-container tip"><p class="custom-container-title">TIP</p><p>这里其实是不需要跑<code>npm run lint:style</code>的，因为如果执行了<code>npm run lint:style</code>，在commit时会全量检测所有src下的样式，然而其实我们只需要检测修改的文件即可。</p></div><h2 id="修复单个文件" tabindex="-1"><a class="header-anchor" href="#修复单个文件"><span>修复单个文件</span></a></h2><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>npx stylelint <span class="token parameter variable">--fix</span> ./src/components/xxx/index.less
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div>`,13),o=[p];function l(i,c){return s(),a("div",null,o)}const u=n(e,[["render",l],["__file","stylelint.html.vue"]]),d=JSON.parse('{"path":"/advance/stylelint.html","title":"styleLint配置","lang":"zh-CN","frontmatter":{},"headers":[{"level":2,"title":"安装stylelint及依赖包","slug":"安装stylelint及依赖包","link":"#安装stylelint及依赖包","children":[]},{"level":2,"title":"根目录创建 .stylelintrc.js 文件","slug":"根目录创建-stylelintrc-js-文件","link":"#根目录创建-stylelintrc-js-文件","children":[]},{"level":2,"title":"添加lint脚本","slug":"添加lint脚本","link":"#添加lint脚本","children":[]},{"level":2,"title":"commit检测","slug":"commit检测","link":"#commit检测","children":[]},{"level":2,"title":"修复单个文件","slug":"修复单个文件","link":"#修复单个文件","children":[]}],"git":{"updatedTime":1644573858000,"contributors":[{"name":"christinesy.tang","email":"christinesy.tang@ap.jll.com","commits":1},{"name":"tangshiya","email":"tsy17321289030@163.com","commits":1}]},"filePathRelative":"advance/stylelint.md"}');export{u as comp,d as data};
