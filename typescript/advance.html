<!doctype html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-rc.8" />
    <style>
      :root {
        --c-bg: #fff;
      }
      html.dark {
        --c-bg: #22272e;
      }
      html,
      body {
        background-color: var(--c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem('vuepress-color-scheme')
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia('(prefers-color-scheme: dark)').matches
      if (userMode === 'dark' || (userMode !== 'light' && systemDarkMode)) {
        document.documentElement.classList.toggle('dark', true)
      }
    </script>
    <meta name="referrer" content="no-referrer"><link rel="icon" href="/growth.jpg"><title>è¿›é˜¶ | Christine</title><meta name="description" content="ä¸€åä¸“æ³¨å‰ç«¯å¼€å‘çš„ç¨‹åºåª› ğŸ‘§ğŸ»">
    <link rel="preload" href="/blog/assets/style-C08YezIb.css" as="style"><link rel="stylesheet" href="/blog/assets/style-C08YezIb.css">
    <link rel="modulepreload" href="/blog/assets/app-C8Xn24jF.js"><link rel="modulepreload" href="/blog/assets/advance.html-64RPqVTj.js">
    <link rel="prefetch" href="/blog/assets/index.html-CM6jBVt3.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-C6L8a4fP.js" as="script"><link rel="prefetch" href="/blog/assets/nginx.html-Bq1Q3T_I.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-Zm5FAoYh.js" as="script"><link rel="prefetch" href="/blog/assets/prettier.html-D_HkrdxC.js" as="script"><link rel="prefetch" href="/blog/assets/stylelint.html-DhohiZCV.js" as="script"><link rel="prefetch" href="/blog/assets/umi.html-bZ2Ph2P8.js" as="script"><link rel="prefetch" href="/blog/assets/FactoryPattern.html-DHfeVGHg.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-CTPzo7K8.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-CUROa93m.js" as="script"><link rel="prefetch" href="/blog/assets/advance.html-C3pnkXlB.js" as="script"><link rel="prefetch" href="/blog/assets/browser.html-DK3VeRhs.js" as="script"><link rel="prefetch" href="/blog/assets/css.html-BKY3Mi15.js" as="script"><link rel="prefetch" href="/blog/assets/es6.html-B30rnm-v.js" as="script"><link rel="prefetch" href="/blog/assets/eventLoop.html-DE06P53X.js" as="script"><link rel="prefetch" href="/blog/assets/handWrite.html-DXp-hFnV.js" as="script"><link rel="prefetch" href="/blog/assets/html.html-Btx2VmlT.js" as="script"><link rel="prefetch" href="/blog/assets/http.html-XfsL6qRE.js" as="script"><link rel="prefetch" href="/blog/assets/jsAsync.html-CwhETaoP.js" as="script"><link rel="prefetch" href="/blog/assets/safetyProtection.html-CuqgWWQ-.js" as="script"><link rel="prefetch" href="/blog/assets/url.html-B2x9gcLO.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-CGjfw9oy.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-C3iyfIuo.js" as="script"><link rel="prefetch" href="/blog/assets/antd.html-DMY_nhd6.js" as="script"><link rel="prefetch" href="/blog/assets/css.html-10ae-nYX.js" as="script"><link rel="prefetch" href="/blog/assets/nginx.html-JG3ijibO.js" as="script"><link rel="prefetch" href="/blog/assets/react.html-BiQaBfQe.js" as="script"><link rel="prefetch" href="/blog/assets/stylelint.html-CCkSQJPI.js" as="script"><link rel="prefetch" href="/blog/assets/vite.html-CAwYGphH.js" as="script"><link rel="prefetch" href="/blog/assets/vscode.html-CdcGrCOe.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-DzTjtE24.js" as="script"><link rel="prefetch" href="/blog/assets/RN.html-D5rs7Dss.js" as="script"><link rel="prefetch" href="/blog/assets/advance.html-BNDmdJjZ.js" as="script"><link rel="prefetch" href="/blog/assets/hooks.html-Bw9pzYbE.js" as="script"><link rel="prefetch" href="/blog/assets/reactInterview.html-DA-Ul4_k.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-CkDHoN-f.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-CI8fM_cU.js" as="script"><link rel="prefetch" href="/blog/assets/base.html-DGAYFaJ6.js" as="script"><link rel="prefetch" href="/blog/assets/challenge.html-D8x2q-a5.js" as="script"><link rel="prefetch" href="/blog/assets/challengeBuildIn.html-BiDzWy9o.js" as="script"><link rel="prefetch" href="/blog/assets/interview.html-DuiYON7c.js" as="script"><link rel="prefetch" href="/blog/assets/tsconfig.html-BEo61lHZ.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-3xc3phrg.js" as="script"><link rel="prefetch" href="/blog/assets/network.html-DwYrVGXL.js" as="script"><link rel="prefetch" href="/blog/assets/render.html-Opwmw_lf.js" as="script"><link rel="prefetch" href="/blog/assets/webOptimize.html-DkmLHRC3.js" as="script"><link rel="prefetch" href="/blog/assets/404.html-CMg9haB1.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container"><!--[--><header class="navbar"><div class="toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a class="route-link" href="/blog/"><img class="logo" src="/blog/logo.png" alt="Christine"><span class="site-name can-hide" aria-hidden="true">Christine</span></a></span><div class="navbar-items-wrapper" style=""><!--[--><!--]--><nav class="navbar-items can-hide" aria-label="site navigation"><!--[--><div class="navbar-item"><a class="route-link" href="/blog/interview/" aria-label="å‰ç«¯é¢è¯•ä¹‹é“"><!--[--><!--[--><!--]--> å‰ç«¯é¢è¯•ä¹‹é“ <!--[--><!--]--><!--]--></a></div><div class="navbar-item"><a class="route-link" href="/blog/react/" aria-label="React"><!--[--><!--[--><!--]--> React <!--[--><!--]--><!--]--></a></div><div class="navbar-item"><a class="route-link" href="/blog/webpack/" aria-label="webpack"><!--[--><!--[--><!--]--> webpack <!--[--><!--]--><!--]--></a></div><div class="navbar-item"><a class="route-link route-link-active" href="/blog/typescript/" aria-label="TypeScript"><!--[--><!--[--><!--]--> TypeScript <!--[--><!--]--><!--]--></a></div><div class="navbar-item"><a class="route-link" href="/blog/tailwind-css/" aria-label="TailWind CSS"><!--[--><!--[--><!--]--> TailWind CSS <!--[--><!--]--><!--]--></a></div><div class="navbar-item"><a class="route-link" href="/blog/advance/prettier.html" aria-label="å‰ç«¯è¿›é˜¶"><!--[--><!--[--><!--]--> å‰ç«¯è¿›é˜¶ <!--[--><!--]--><!--]--></a></div><div class="navbar-item"><a class="route-link" href="/blog/automate/" aria-label="å‰ç«¯è‡ªåŠ¨åŒ–éƒ¨ç½²"><!--[--><!--[--><!--]--> å‰ç«¯è‡ªåŠ¨åŒ–éƒ¨ç½² <!--[--><!--]--><!--]--></a></div><div class="navbar-item"><a class="route-link" href="/blog/git/" aria-label="Git"><!--[--><!--[--><!--]--> Git <!--[--><!--]--><!--]--></a></div><div class="navbar-item"><a class="route-link" href="/blog/other/css.html" aria-label="è¸©è¿‡çš„å‘"><!--[--><!--[--><!--]--> è¸©è¿‡çš„å‘ <!--[--><!--]--><!--]--></a></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="å‰ç«¯ä¹¦ç±"><span class="title">å‰ç«¯ä¹¦ç±</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="å‰ç«¯ä¹¦ç±"><span class="title">å‰ç«¯ä¹¦ç±</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a class="route-link" href="/blog/books/" aria-label="JavaScriptè®¾è®¡æ¨¡å¼"><!--[--><!--[--><!--]--> JavaScriptè®¾è®¡æ¨¡å¼ <!--[--><!--]--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><a class="external-link" href="https://github.com/Christine-Only/blog" rel="noopener noreferrer" target="_blank" aria-label="Github"><!--[--><!--[--><!--]--> Github <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--><!--]--></a></div><!--]--></nav><!--[--><!--]--><button class="toggle-color-mode-button" title="toggle color mode"><svg style="" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg style="display:none;" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><form class="search-box" role="search"><input type="search" autocomplete="off" spellcheck="false" value><!----></form></div></header><!--]--><div class="sidebar-mask"></div><!--[--><aside class="sidebar"><nav class="navbar-items" aria-label="site navigation"><!--[--><div class="navbar-item"><a class="route-link" href="/blog/interview/" aria-label="å‰ç«¯é¢è¯•ä¹‹é“"><!--[--><!--[--><!--]--> å‰ç«¯é¢è¯•ä¹‹é“ <!--[--><!--]--><!--]--></a></div><div class="navbar-item"><a class="route-link" href="/blog/react/" aria-label="React"><!--[--><!--[--><!--]--> React <!--[--><!--]--><!--]--></a></div><div class="navbar-item"><a class="route-link" href="/blog/webpack/" aria-label="webpack"><!--[--><!--[--><!--]--> webpack <!--[--><!--]--><!--]--></a></div><div class="navbar-item"><a class="route-link route-link-active" href="/blog/typescript/" aria-label="TypeScript"><!--[--><!--[--><!--]--> TypeScript <!--[--><!--]--><!--]--></a></div><div class="navbar-item"><a class="route-link" href="/blog/tailwind-css/" aria-label="TailWind CSS"><!--[--><!--[--><!--]--> TailWind CSS <!--[--><!--]--><!--]--></a></div><div class="navbar-item"><a class="route-link" href="/blog/advance/prettier.html" aria-label="å‰ç«¯è¿›é˜¶"><!--[--><!--[--><!--]--> å‰ç«¯è¿›é˜¶ <!--[--><!--]--><!--]--></a></div><div class="navbar-item"><a class="route-link" href="/blog/automate/" aria-label="å‰ç«¯è‡ªåŠ¨åŒ–éƒ¨ç½²"><!--[--><!--[--><!--]--> å‰ç«¯è‡ªåŠ¨åŒ–éƒ¨ç½² <!--[--><!--]--><!--]--></a></div><div class="navbar-item"><a class="route-link" href="/blog/git/" aria-label="Git"><!--[--><!--[--><!--]--> Git <!--[--><!--]--><!--]--></a></div><div class="navbar-item"><a class="route-link" href="/blog/other/css.html" aria-label="è¸©è¿‡çš„å‘"><!--[--><!--[--><!--]--> è¸©è¿‡çš„å‘ <!--[--><!--]--><!--]--></a></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="å‰ç«¯ä¹¦ç±"><span class="title">å‰ç«¯ä¹¦ç±</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="å‰ç«¯ä¹¦ç±"><span class="title">å‰ç«¯ä¹¦ç±</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a class="route-link" href="/blog/books/" aria-label="JavaScriptè®¾è®¡æ¨¡å¼"><!--[--><!--[--><!--]--> JavaScriptè®¾è®¡æ¨¡å¼ <!--[--><!--]--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><a class="external-link" href="https://github.com/Christine-Only/blog" rel="noopener noreferrer" target="_blank" aria-label="Github"><!--[--><!--[--><!--]--> Github <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--><!--]--></a></div><!--]--></nav><!--[--><!--]--><ul class="sidebar-items"><!--[--><li><p tabindex="0" class="sidebar-item sidebar-heading active">TypeScript <!----></p><ul style="" class="sidebar-item-children"><!--[--><li><a class="route-link sidebar-item" href="/blog/typescript/base.html" aria-label="ä»‹ç»"><!--[--><!--[--><!--]--> ä»‹ç» <!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link route-link-active sidebar-item" href="/blog/typescript/" aria-label="åŸºç¡€"><!--[--><!--[--><!--]--> åŸºç¡€ <!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link route-link-active sidebar-item active" href="/blog/typescript/advance.html" aria-label="è¿›é˜¶"><!--[--><!--[--><!--]--> è¿›é˜¶ <!--[--><!--]--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a class="route-link sidebar-item" href="/blog/#ç±»å‹æ‹“å®½-type-widening" aria-label="ç±»å‹æ‹“å®½ï¼ˆType Wideningï¼‰"><!--[--><!--[--><!--]--> ç±»å‹æ‹“å®½ï¼ˆType Wideningï¼‰ <!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="/blog/#ç±»å‹ç¼©å°-type-narrowing" aria-label="ç±»å‹ç¼©å° (Type Narrowing)"><!--[--><!--[--><!--]--> ç±»å‹ç¼©å° (Type Narrowing) <!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="/blog/#è”åˆç±»å‹-union-types" aria-label="è”åˆç±»å‹ (Union Types)"><!--[--><!--[--><!--]--> è”åˆç±»å‹ (Union Types) <!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="/blog/#ç±»å‹åˆ«å-type-aliases" aria-label="ç±»å‹åˆ«å (Type Aliases)"><!--[--><!--[--><!--]--> ç±»å‹åˆ«å (Type Aliases) <!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="/blog/#äº¤å‰ç±»å‹-intersection-types" aria-label="äº¤å‰ç±»å‹ï¼ˆIntersection Typesï¼‰"><!--[--><!--[--><!--]--> äº¤å‰ç±»å‹ï¼ˆIntersection Typesï¼‰ <!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="/blog/#æ¥å£-interfaces" aria-label="æ¥å£ (Interfaces)"><!--[--><!--[--><!--]--> æ¥å£ (Interfaces) <!--[--><!--]--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a class="route-link sidebar-item" href="/blog/#å¯é€‰-åªè¯»å±æ€§" aria-label="å¯é€‰ | åªè¯»å±æ€§"><!--[--><!--[--><!--]--> å¯é€‰ | åªè¯»å±æ€§ <!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="/blog/#ä»»æ„ç±»å‹" aria-label="ä»»æ„ç±»å‹"><!--[--><!--[--><!--]--> ä»»æ„ç±»å‹ <!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="/blog/#ç»•å¼€é¢å¤–å±æ€§æ£€æŸ¥çš„æ–¹å¼" aria-label="ç»•å¼€é¢å¤–å±æ€§æ£€æŸ¥çš„æ–¹å¼"><!--[--><!--[--><!--]--> ç»•å¼€é¢å¤–å±æ€§æ£€æŸ¥çš„æ–¹å¼ <!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="/blog/#æ¥å£ä¸ç±»å‹åˆ«åçš„åŒºåˆ«" aria-label="æ¥å£ä¸ç±»å‹åˆ«åçš„åŒºåˆ«"><!--[--><!--[--><!--]--> æ¥å£ä¸ç±»å‹åˆ«åçš„åŒºåˆ« <!--[--><!--]--><!--]--></a><!----></li><!--]--></ul></li><li><a class="route-link sidebar-item" href="/blog/#æ³›å‹-generics" aria-label="æ³›å‹ (Generics)"><!--[--><!--[--><!--]--> æ³›å‹ (Generics) <!--[--><!--]--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a class="route-link sidebar-item" href="/blog/#çº¦æŸç±»å‹" aria-label="çº¦æŸç±»å‹"><!--[--><!--[--><!--]--> çº¦æŸç±»å‹ <!--[--><!--]--><!--]--></a><!----></li><!--]--></ul></li><li><a class="route-link sidebar-item" href="/blog/#æ³›å‹å·¥å…·ç±»å‹" aria-label="æ³›å‹å·¥å…·ç±»å‹"><!--[--><!--[--><!--]--> æ³›å‹å·¥å…·ç±»å‹ <!--[--><!--]--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a class="route-link sidebar-item" href="/blog/#typeof" aria-label="typeof"><!--[--><!--[--><!--]--> typeof <!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="/blog/#keyof" aria-label="keyof"><!--[--><!--[--><!--]--> keyof <!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="/blog/#in" aria-label="in"><!--[--><!--[--><!--]--> in <!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="/blog/#extends" aria-label="extends"><!--[--><!--[--><!--]--> extends <!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="/blog/#infer" aria-label="Infer"><!--[--><!--[--><!--]--> Infer <!--[--><!--]--><!--]--></a><!----></li><!--]--></ul></li><li><a class="route-link sidebar-item" href="/blog/#ç´¢å¼•ç±»å‹" aria-label="ç´¢å¼•ç±»å‹"><!--[--><!--[--><!--]--> ç´¢å¼•ç±»å‹ <!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="/blog/#æ˜ å°„ç±»å‹" aria-label="æ˜ å°„ç±»å‹"><!--[--><!--[--><!--]--> æ˜ å°„ç±»å‹ <!--[--><!--]--><!--]--></a><!----></li><!--]--></ul></li><li><a class="route-link sidebar-item" href="/blog/typescript/challengeBuildIn.html" aria-label="å†…ç½®å·¥å…·ç±»å‹"><!--[--><!--[--><!--]--> å†…ç½®å·¥å…·ç±»å‹ <!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="/blog/typescript/challenge.html" aria-label="è‡ªå®šä¹‰å·¥å…·ç±»å‹"><!--[--><!--[--><!--]--> è‡ªå®šä¹‰å·¥å…·ç±»å‹ <!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="/blog/typescript/tsconfig.html" aria-label="tsconfig.jsonä»‹ç»"><!--[--><!--[--><!--]--> tsconfig.jsonä»‹ç» <!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link sidebar-item" href="/blog/typescript/interview.html" aria-label="å¸¸è§é¢è¯•é¢˜"><!--[--><!--[--><!--]--> å¸¸è§é¢è¯•é¢˜ <!--[--><!--]--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="page"><!--[--><!--]--><div class="theme-default-content"><!--[--><!--]--><div><h1 id="è¿›é˜¶" tabindex="-1"><a class="header-anchor" href="#è¿›é˜¶"><span>è¿›é˜¶</span></a></h1><h2 id="ç±»å‹æ‹“å®½-type-widening" tabindex="-1"><a class="header-anchor" href="#ç±»å‹æ‹“å®½-type-widening"><span>ç±»å‹æ‹“å®½ï¼ˆType Wideningï¼‰</span></a></h2><blockquote><p>æ‰€æœ‰é€šè¿‡ let æˆ– var å®šä¹‰çš„å˜é‡ã€å‡½æ•°çš„å½¢å‚ã€å¯¹è±¡çš„éåªè¯»å±æ€§ï¼Œå¦‚æœæ»¡è¶³æŒ‡å®šäº†åˆå§‹å€¼ä¸”æœªæ˜¾å¼æ·»åŠ ç±»å‹æ³¨è§£çš„æ¡ä»¶ï¼Œé‚£ä¹ˆå®ƒä»¬æ¨æ–­å‡ºæ¥çš„ç±»å‹å°±æ˜¯æŒ‡å®šçš„åˆå§‹å€¼å­—é¢é‡ç±»å‹æ‹“å®½åçš„ç±»å‹ï¼Œè¿™å°±æ˜¯å­—é¢é‡ç±»å‹æ‹“å®½ã€‚</p></blockquote><div class="language-typescript line-numbers-mode" data-ext="ts" data-title="ts"><pre class="language-typescript"><code><span class="token keyword">let</span> str <span class="token operator">=</span> <span class="token string">&#39;this is string&#39;</span><span class="token punctuation">;</span> <span class="token comment">// ç±»å‹æ˜¯ string</span>
<span class="token keyword">let</span> strFun <span class="token operator">=</span> <span class="token punctuation">(</span>str <span class="token operator">=</span> <span class="token string">&#39;this is string&#39;</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> str<span class="token punctuation">;</span> <span class="token comment">// ç±»å‹æ˜¯ (str?: string) =&gt; string;</span>
<span class="token keyword">const</span> specifiedStr <span class="token operator">=</span> <span class="token string">&#39;hello world&#39;</span> <span class="token comment">// &#39;hello world&#39;</span>
<span class="token keyword">let</span> newStr <span class="token operator">=</span> specifiedStr <span class="token comment">// string</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ç¬¬ 1~2 è¡Œæ»¡è¶³äº† letã€å½¢å‚ä¸”æœªæ˜¾å¼å£°æ˜ç±»å‹æ³¨è§£çš„æ¡ä»¶ï¼Œæ‰€ä»¥å˜é‡ã€å½¢å‚çš„ç±»å‹æ‹“å®½ä¸º stringï¼ˆå½¢å‚ç±»å‹ç¡®åˆ‡åœ°è®²æ˜¯ string | undefinedï¼‰ã€‚</p><p>ç¬¬ 3 è¡Œçš„å¸¸é‡ä¸å¯å˜æ›´ï¼Œç±»å‹æ²¡æœ‰æ‹“å®½ï¼Œæ‰€ä»¥ specifiedStr çš„ç±»å‹æ˜¯ &#39;hello world&#39; å­—é¢é‡ç±»å‹ã€‚</p><p>ç¬¬ 4 è¡Œèµ‹äºˆçš„å€¼ specifiedStr çš„ç±»å‹æ˜¯å­—é¢é‡ç±»å‹ï¼Œä¸”æ²¡æœ‰æ˜¾å¼ç±»å‹æ³¨è§£ï¼Œæ‰€ä»¥å˜é‡ã€å½¢å‚çš„ç±»å‹ä¹Ÿè¢«æ‹“å®½äº†ã€‚</p><p>åŸºäºå­—é¢é‡ç±»å‹æ‹“å®½çš„æ¡ä»¶ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡å¦‚ä¸‹æ‰€ç¤ºä»£ç æ·»åŠ æ˜¾ç¤ºç±»å‹æ³¨è§£æ§åˆ¶ç±»å‹æ‹“å®½è¡Œä¸ºã€‚</p><div class="language-typescript line-numbers-mode" data-ext="ts" data-title="ts"><pre class="language-typescript"><code><span class="token keyword">const</span> str <span class="token operator">=</span> <span class="token string">&#39;hello world&#39;</span> <span class="token keyword">as</span> <span class="token keyword">const</span>
æˆ–è€…
<span class="token keyword">const</span> str<span class="token operator">:</span> <span class="token string">&#39;hello world&#39;</span> <span class="token operator">=</span> <span class="token string">&#39;hello world&#39;</span>

<span class="token comment">// Type is &quot;hello world&quot;</span>
<span class="token keyword">let</span> newStr <span class="token operator">=</span> str
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å®é™…ä¸Šï¼Œé™¤äº†å­—é¢é‡ç±»å‹æ‹“å®½ä¹‹å¤–ï¼ŒTypeScript å¯¹æŸäº›ç‰¹å®šç±»å‹å€¼ä¹Ÿæœ‰ç±»ä¼¼ &quot;Type Widening&quot; ï¼ˆç±»å‹æ‹“å®½ï¼‰çš„è®¾è®¡ï¼Œä¸‹é¢æˆ‘ä»¬å…·ä½“æ¥äº†è§£ä¸€ä¸‹ã€‚</p><p>æ¯”å¦‚å¯¹ null å’Œ undefined çš„ç±»å‹è¿›è¡Œæ‹“å®½ï¼Œé€šè¿‡ letã€var å®šä¹‰çš„å˜é‡å¦‚æœæ»¡è¶³æœªæ˜¾å¼å£°æ˜ç±»å‹æ³¨è§£ä¸”è¢«èµ‹äºˆäº† null æˆ– undefined å€¼ï¼Œåˆ™æ¨æ–­å‡ºè¿™äº›å˜é‡çš„ç±»å‹æ˜¯ anyï¼š</p><div class="language-typescript line-numbers-mode" data-ext="ts" data-title="ts"><pre class="language-typescript"><code><span class="token keyword">let</span> x <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span> <span class="token comment">// ç±»å‹æ‹“å®½æˆ any</span>
<span class="token keyword">let</span> y <span class="token operator">=</span> <span class="token keyword">undefined</span><span class="token punctuation">;</span> <span class="token comment">// ç±»å‹æ‹“å®½æˆ any</span>

<span class="token keyword">const</span> z <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span> <span class="token comment">// ç±»å‹æ˜¯ null</span>

<span class="token keyword">let</span> <span class="token function-variable function">anyFun</span> <span class="token operator">=</span> <span class="token punctuation">(</span>param <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> param<span class="token punctuation">;</span> <span class="token comment">// å½¢å‚ç±»å‹æ˜¯ null</span>
<span class="token keyword">let</span> z2 <span class="token operator">=</span> z<span class="token punctuation">;</span> <span class="token comment">// ç±»å‹æ˜¯ null</span>
<span class="token keyword">let</span> x2 <span class="token operator">=</span> x<span class="token punctuation">;</span> <span class="token comment">// ç±»å‹æ˜¯ null</span>
<span class="token keyword">let</span> y2 <span class="token operator">=</span> y<span class="token punctuation">;</span> <span class="token comment">// ç±»å‹æ˜¯ undefined</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-typescript line-numbers-mode" data-ext="ts" data-title="ts"><pre class="language-typescript"><code><span class="token keyword">interface</span> <span class="token class-name">Vectors</span> <span class="token punctuation">{</span>
  x<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
  y<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
  z<span class="token operator">:</span> <span class="token builtin">number</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">getComponent</span><span class="token punctuation">(</span>vectors<span class="token operator">:</span> Vectors<span class="token punctuation">,</span> axis<span class="token operator">:</span> <span class="token string">&quot;x&quot;</span> <span class="token operator">|</span> <span class="token string">&quot;y&quot;</span> <span class="token operator">|</span> <span class="token string">&quot;z&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> vectors<span class="token punctuation">[</span>axis<span class="token punctuation">]</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> x <span class="token operator">=</span> <span class="token string">&quot;x&quot;</span>
<span class="token keyword">let</span> vec <span class="token operator">=</span> <span class="token punctuation">{</span>x<span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span> y<span class="token operator">:</span> <span class="token number">20</span><span class="token punctuation">,</span> z<span class="token operator">:</span> <span class="token number">30</span><span class="token punctuation">}</span>
<span class="token function">getComponent</span><span class="token punctuation">(</span>vec<span class="token punctuation">,</span> x<span class="token punctuation">)</span> <span class="token comment">//Argument of type &#39;string&#39; is not assignable to parameter of type &#39;&quot;x&quot; | &quot;y&quot; | &quot;z&quot;&#39;.(2345)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä¸ºä»€ä¹ˆä¼šå‡ºç°ä¸Šè¿°é”™è¯¯å‘¢ï¼Ÿé€šè¿‡ TypeScript çš„é”™è¯¯æç¤ºæ¶ˆæ¯ï¼Œæˆ‘ä»¬çŸ¥é“æ˜¯å› ä¸ºå˜é‡ x çš„ç±»å‹è¢«æ¨æ–­ä¸º string ç±»å‹ï¼Œè€Œ getComponent å‡½æ•°æœŸæœ›å®ƒçš„ç¬¬äºŒä¸ªå‚æ•°æœ‰ä¸€ä¸ªæ›´å…·ä½“çš„ç±»å‹ã€‚è¿™åœ¨å®é™…åœºåˆä¸­è¢«æ‹“å®½äº†ï¼Œæ‰€ä»¥å¯¼è‡´äº†ä¸€ä¸ªé”™è¯¯ã€‚</p><p>TypeScript æä¾›äº†ä¸€äº›æ§åˆ¶æ‹“å®½è¿‡ç¨‹çš„æ–¹æ³•ã€‚å…¶ä¸­ä¸€ç§æ–¹æ³•æ˜¯ä½¿ç”¨ constã€‚å¦‚æœç”¨ const è€Œä¸æ˜¯ let å£°æ˜ä¸€ä¸ªå˜é‡ï¼Œé‚£ä¹ˆå®ƒçš„ç±»å‹ä¼šæ›´çª„ã€‚äº‹å®ä¸Šï¼Œä½¿ç”¨ const å¯ä»¥å¸®åŠ©æˆ‘ä»¬ä¿®å¤å‰é¢ä¾‹å­ä¸­çš„é”™è¯¯ï¼š</p><div class="language-typescript line-numbers-mode" data-ext="ts" data-title="ts"><pre class="language-typescript"><code><span class="token keyword">const</span> x <span class="token operator">=</span> <span class="token string">&quot;x&quot;</span>
<span class="token keyword">let</span> vec <span class="token operator">=</span> <span class="token punctuation">{</span>x<span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span> y<span class="token operator">:</span> <span class="token number">20</span><span class="token punctuation">,</span> z<span class="token operator">:</span> <span class="token number">30</span><span class="token punctuation">}</span>
<span class="token function">getComponent</span><span class="token punctuation">(</span>vec<span class="token punctuation">,</span> x<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å› ä¸º x ä¸èƒ½é‡æ–°èµ‹å€¼ï¼Œæ‰€ä»¥ TypeScript å¯ä»¥æ¨æ–­æ›´çª„çš„ç±»å‹ï¼Œå°±ä¸ä¼šåœ¨åç»­èµ‹å€¼ä¸­å‡ºç°é”™è¯¯ã€‚å› ä¸ºå­—ç¬¦ä¸²å­—é¢é‡å‹ â€œxâ€ å¯ä»¥èµ‹å€¼ç»™ &quot;x&quot;|&quot;y&quot;|&quot;z&quot;ï¼Œæ‰€ä»¥ä»£ç ä¼šé€šè¿‡ç±»å‹æ£€æŸ¥å™¨çš„æ£€æŸ¥ã€‚</p><div class="language-typescript line-numbers-mode" data-ext="ts" data-title="ts"><pre class="language-typescript"><code><span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span> x<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">}</span>
obj<span class="token punctuation">.</span>x <span class="token operator">=</span> <span class="token number">6</span> <span class="token comment">//ok</span>

<span class="token comment">//Type &#39;string&#39; is not assignable to type &#39;number&#39;.(2322)</span>
obj<span class="token punctuation">.</span>x <span class="token operator">=</span> <span class="token string">&#39;hi&#39;</span>

<span class="token comment">// Property &#39;name&#39; does not exist on type &#39;{ x: number; }&#39;.(2339)</span>
obj<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">&quot;christine&quot;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-typescript line-numbers-mode" data-ext="ts" data-title="ts"><pre class="language-typescript"><code><span class="token comment">// Type is { name: string; age: number }</span>
<span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>name<span class="token operator">:</span> <span class="token string">&#39;christine&#39;</span><span class="token punctuation">,</span> age<span class="token operator">:</span> <span class="token number">18</span><span class="token punctuation">}</span>

<span class="token comment">// Type is { name: &#39;christine&#39;; age: number }</span>
<span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>name<span class="token operator">:</span> <span class="token string">&#39;christine&#39;</span> <span class="token keyword">as</span> <span class="token keyword">const</span><span class="token punctuation">,</span> age<span class="token operator">:</span> <span class="token number">18</span><span class="token punctuation">}</span>

<span class="token comment">// Type is { readonly name: &#39;christine&#39;; readonly age: 18 }</span>
<span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>name<span class="token operator">:</span> <span class="token string">&#39;christine&#39;</span><span class="token punctuation">,</span> age<span class="token operator">:</span> <span class="token number">18</span><span class="token punctuation">}</span> <span class="token keyword">as</span> <span class="token keyword">const</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å½“ä½ åœ¨ä¸€ä¸ªå€¼ä¹‹åä½¿ç”¨ const æ–­è¨€æ—¶ï¼ŒTypeScript å°†ä¸ºå®ƒæ¨æ–­å‡ºæœ€çª„çš„ç±»å‹ï¼Œæ²¡æœ‰æ‹“å®½ã€‚å¯¹äºçœŸæ­£çš„å¸¸é‡ï¼Œè¿™é€šå¸¸æ˜¯ä½ æƒ³è¦çš„ã€‚å½“ç„¶ä½ ä¹Ÿå¯ä»¥å¯¹æ•°ç»„ä½¿ç”¨ const æ–­è¨€ï¼š</p><div class="language-typescript line-numbers-mode" data-ext="ts" data-title="ts"><pre class="language-typescript"><code><span class="token comment">// Type is number[]</span>
<span class="token keyword">const</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span>

<span class="token comment">// Type is readonly [1, 2, 3]</span>
<span class="token keyword">const</span> arr1 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span> <span class="token keyword">as</span> <span class="token keyword">const</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="ç±»å‹ç¼©å°-type-narrowing" tabindex="-1"><a class="header-anchor" href="#ç±»å‹ç¼©å°-type-narrowing"><span>ç±»å‹ç¼©å° (Type Narrowing)</span></a></h2><p>åœ¨ TypeScript ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡æŸäº›æ“ä½œå°†å˜é‡çš„ç±»å‹ç”±ä¸€ä¸ªè¾ƒä¸ºå®½æ³›çš„é›†åˆç¼©å°åˆ°ç›¸å¯¹è¾ƒå°ã€è¾ƒæ˜ç¡®çš„é›†åˆï¼Œè¿™å°±æ˜¯ &quot;Type Narrowing&quot;ã€‚</p><p>æ¯”å¦‚ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ç±»å‹å®ˆå«ï¼ˆåé¢ä¼šè®²åˆ°ï¼‰å°†å‡½æ•°å‚æ•°çš„ç±»å‹ä» any ç¼©å°åˆ°æ˜ç¡®çš„ç±»å‹ï¼Œå…·ä½“ç¤ºä¾‹å¦‚ä¸‹ï¼š</p><div class="language-typescript line-numbers-mode" data-ext="ts" data-title="ts"><pre class="language-typescript"><code><span class="token keyword">let</span> <span class="token function-variable function">func</span> <span class="token operator">=</span> <span class="token punctuation">(</span>anything<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> anything <span class="token operator">===</span> <span class="token string">&#39;string&#39;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> anything<span class="token punctuation">;</span> <span class="token comment">// ç±»å‹æ˜¯ string </span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> anything <span class="token operator">===</span> <span class="token string">&#39;number&#39;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> anything<span class="token punctuation">;</span> <span class="token comment">// ç±»å‹æ˜¯ number</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>åŒæ ·ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ç±»å‹å®ˆå«å°†è”åˆç±»å‹ç¼©å°åˆ°æ˜ç¡®çš„å­ç±»å‹ï¼Œå…·ä½“ç¤ºä¾‹å¦‚ä¸‹ï¼š</p><div class="language-typescript line-numbers-mode" data-ext="ts" data-title="ts"><pre class="language-typescript"><code><span class="token keyword">let</span> <span class="token function-variable function">func</span> <span class="token operator">=</span> <span class="token punctuation">(</span>anything<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token operator">|</span> <span class="token builtin">number</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> anything <span class="token operator">===</span> <span class="token string">&#39;string&#39;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> anything<span class="token punctuation">;</span> <span class="token comment">// ç±»å‹æ˜¯ string </span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> anything<span class="token punctuation">;</span> <span class="token comment">// ç±»å‹æ˜¯ number</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å½“ç„¶ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥é€šè¿‡å­—é¢é‡ç±»å‹ç­‰å€¼åˆ¤æ–­ï¼ˆ===ï¼‰æˆ–å…¶ä»–æ§åˆ¶æµè¯­å¥ï¼ˆåŒ…æ‹¬ä½†ä¸é™äº ifã€ä¸‰ç›®è¿ç®—ç¬¦ã€switch åˆ†æ”¯ï¼‰å°†è”åˆç±»å‹æ”¶æ•›ä¸ºæ›´å…·ä½“çš„ç±»å‹ï¼Œå¦‚ä¸‹ä»£ç æ‰€ç¤ºï¼š</p><div class="language-typescript line-numbers-mode" data-ext="ts" data-title="ts"><pre class="language-typescript"><code><span class="token keyword">type</span> <span class="token class-name">Goods</span> <span class="token operator">=</span> <span class="token string">&#39;pen&#39;</span> <span class="token operator">|</span> <span class="token string">&#39;pencil&#39;</span> <span class="token operator">|</span><span class="token string">&#39;ruler&#39;</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> getPenCost <span class="token operator">=</span> <span class="token punctuation">(</span>item<span class="token operator">:</span> <span class="token string">&#39;pen&#39;</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token number">2</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> getPencilCost <span class="token operator">=</span> <span class="token punctuation">(</span>item<span class="token operator">:</span> <span class="token string">&#39;pencil&#39;</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token number">4</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> getRulerCost <span class="token operator">=</span> <span class="token punctuation">(</span>item<span class="token operator">:</span> <span class="token string">&#39;ruler&#39;</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token number">6</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> <span class="token function-variable function">getCost</span> <span class="token operator">=</span> <span class="token punctuation">(</span>item<span class="token operator">:</span> Goods<span class="token punctuation">)</span> <span class="token operator">=&gt;</span>  <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>item <span class="token operator">===</span> <span class="token string">&#39;pen&#39;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token function">getPenCost</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// item =&gt; &#39;pen&#39;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>item <span class="token operator">===</span> <span class="token string">&#39;pencil&#39;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token function">getPencilCost</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// item =&gt; &#39;pencil&#39;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token function">getRulerCost</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// item =&gt; &#39;ruler&#39;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>é‚£ä¸ºä»€ä¹ˆç±»å‹ç”±å¤šä¸ªå­—é¢é‡ç»„æˆçš„å˜é‡ item å¯ä»¥ä¼ å€¼ç»™ä»…æ¥æ”¶å•ä¸€ç‰¹å®šå­—é¢é‡ç±»å‹çš„å‡½æ•° <code>getPenCost</code>ã€<code>getPencilCost</code>ã€<code>getRulerCost</code>å‘¢ï¼Ÿè¿™æ˜¯å› ä¸ºåœ¨æ¯ä¸ªæµç¨‹åˆ†æ”¯ä¸­ï¼Œç¼–è¯‘å™¨çŸ¥é“æµç¨‹åˆ†æ”¯ä¸­çš„ item ç±»å‹æ˜¯ä»€ä¹ˆã€‚æ¯”å¦‚ item === &#39;pencil&#39; çš„åˆ†æ”¯ï¼Œitem çš„ç±»å‹å°±è¢«æ”¶ç¼©ä¸ºâ€œpencilâ€ã€‚</p><p>ä¸€èˆ¬æ¥è¯´ <code>TypeScript</code> éå¸¸æ“…é•¿é€šè¿‡æ¡ä»¶æ¥åˆ¤åˆ«ç±»å‹ï¼Œä½†åœ¨å¤„ç†ä¸€äº›ç‰¹æ®Šå€¼æ—¶è¦ç‰¹åˆ«æ³¨æ„ â€”â€” å®ƒå¯èƒ½åŒ…å«ä½ ä¸æƒ³è¦çš„ä¸œè¥¿ï¼ä¾‹å¦‚ï¼Œä»¥ä¸‹ä»è”åˆç±»å‹ä¸­æ’é™¤ null çš„æ–¹æ³•æ˜¯é”™è¯¯çš„ï¼š</p><div class="language-typescript line-numbers-mode" data-ext="ts" data-title="ts"><pre class="language-typescript"><code><span class="token keyword">const</span> el <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;foo&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Type is HTMLElement | null</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> el <span class="token operator">===</span> <span class="token string">&quot;object&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  el<span class="token punctuation">;</span> <span class="token comment">// Type is HTMLElement | null</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å› ä¸ºåœ¨ JavaScript ä¸­ typeof null çš„ç»“æœæ˜¯ &quot;object&quot; ï¼Œæ‰€ä»¥ä½ å®é™…ä¸Šå¹¶æ²¡æœ‰é€šè¿‡è¿™ç§æ£€æŸ¥æ’é™¤ null å€¼ã€‚é™¤æ­¤ä¹‹å¤–ï¼Œfalsy çš„åŸå§‹å€¼ä¹Ÿä¼šäº§ç”Ÿç±»ä¼¼çš„é—®é¢˜ï¼š</p><div class="language-typescript line-numbers-mode" data-ext="ts" data-title="ts"><pre class="language-typescript"><code><span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span>x<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">number</span> <span class="token operator">|</span> <span class="token builtin">string</span> <span class="token operator">|</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>x<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    x<span class="token punctuation">;</span> <span class="token comment">// Type is string | number | null | undefined\</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å› ä¸ºç©ºå­—ç¬¦ä¸²å’Œ 0 éƒ½å±äº falsy å€¼ï¼Œæ‰€ä»¥åœ¨åˆ†æ”¯ä¸­ x çš„ç±»å‹å¯èƒ½æ˜¯ string æˆ– number ç±»å‹ã€‚å¸®åŠ©ç±»å‹æ£€æŸ¥å™¨ç¼©å°ç±»å‹çš„å¦ä¸€ç§å¸¸è§æ–¹æ³•æ˜¯åœ¨å®ƒä»¬ä¸Šæ”¾ç½®ä¸€ä¸ªæ˜ç¡®çš„ â€œæ ‡ç­¾â€ï¼š</p><div class="language-typescript line-numbers-mode" data-ext="ts" data-title="ts"><pre class="language-typescript"><code><span class="token keyword">interface</span> <span class="token class-name">UploadEvent</span> <span class="token punctuation">{</span>
  type<span class="token operator">:</span> <span class="token string">&quot;upload&quot;</span><span class="token punctuation">;</span>
  filename<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
  contents<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">interface</span> <span class="token class-name">DownloadEvent</span> <span class="token punctuation">{</span>
  type<span class="token operator">:</span> <span class="token string">&quot;download&quot;</span><span class="token punctuation">;</span>
  filename<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">type</span> <span class="token class-name">AppEvent</span> <span class="token operator">=</span> UploadEvent <span class="token operator">|</span> DownloadEvent<span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">handleEvent</span><span class="token punctuation">(</span>e<span class="token operator">:</span> AppEvent<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">switch</span> <span class="token punctuation">(</span>e<span class="token punctuation">.</span>type<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">case</span> <span class="token string">&quot;download&quot;</span><span class="token operator">:</span>
      e<span class="token punctuation">;</span> <span class="token comment">// Type is DownloadEvent </span>
      <span class="token keyword">break</span><span class="token punctuation">;</span>
    <span class="token keyword">case</span> <span class="token string">&quot;upload&quot;</span><span class="token operator">:</span>
      e<span class="token punctuation">;</span> <span class="token comment">// Type is UploadEvent </span>
      <span class="token keyword">break</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¿™ç§æ¨¡å¼ä¹Ÿè¢«ç§°ä¸º â€æ ‡ç­¾è”åˆâ€œ æˆ– â€å¯è¾¨è¯†è”åˆâ€œï¼Œå®ƒåœ¨ TypeScript ä¸­çš„åº”ç”¨èŒƒå›´éå¸¸å¹¿ã€‚</p><h2 id="è”åˆç±»å‹-union-types" tabindex="-1"><a class="header-anchor" href="#è”åˆç±»å‹-union-types"><span>è”åˆç±»å‹ (Union Types)</span></a></h2><p>è”åˆç±»å‹è¡¨ç¤ºå–å€¼å¯ä»¥ä¸ºå¤šç§ç±»å‹ä¸­çš„ä¸€ç§ï¼Œä½¿ç”¨ <code>|</code> åˆ†éš”æ¯ä¸ªç±»å‹ã€‚</p><div class="language-typescript line-numbers-mode" data-ext="ts" data-title="ts"><pre class="language-typescript"><code><span class="token keyword">let</span> unionTypeValue<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token operator">|</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
unionTypeValue <span class="token operator">=</span> <span class="token string">&#39;Hello World&#39;</span><span class="token punctuation">;</span>
unionTypeValue <span class="token operator">=</span> <span class="token number">666</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è”åˆç±»å‹é€šå¸¸ä¸ <code>null</code> å’Œ <code>undefined</code> ä¸€èµ·ä½¿ç”¨ï¼š</p><div class="language-typescript line-numbers-mode" data-ext="ts" data-title="ts"><pre class="language-typescript"><code><span class="token keyword">const</span> <span class="token function-variable function">sayHello</span> <span class="token operator">=</span> <span class="token punctuation">(</span>name<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token operator">|</span> <span class="token keyword">undefined</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>ä¾‹å¦‚ï¼Œè¿™é‡Œ <code>name</code> çš„ç±»å‹æ˜¯ <code>string | undefined</code> æ„å‘³ç€å¯ä»¥å°† <code>string</code> æˆ– <code>undefined</code> çš„å€¼ä¼ é€’ç»™ <code>sayHello</code> å‡½æ•°ã€‚</p><div class="language-typescript line-numbers-mode" data-ext="ts" data-title="ts"><pre class="language-typescript"><code><span class="token function">sayHello</span><span class="token punctuation">(</span><span class="token string">&#39;Christine&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">sayHello</span><span class="token punctuation">(</span><span class="token keyword">undefined</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><div class="custom-container warning"><p class="custom-container-title">è­¦å‘Š</p><p>å½“æˆ‘ä»¬ä½¿ç”¨è”åˆç±»å‹çš„æ—¶å€™ï¼Œå› ä¸ºTypeScriptä¸ç¡®å®šåˆ°åº•æ˜¯å“ªä¸€ä¸ªç±»å‹ï¼Œæ‰€ä»¥æˆ‘ä»¬åªèƒ½è®¿é—®æ­¤è”åˆç±»å‹çš„æ‰€æœ‰ç±»å‹å…¬ç”¨çš„å±æ€§å’Œæ–¹æ³•ã€‚</p></div><div class="language-typescript line-numbers-mode" data-ext="ts" data-title="ts"><pre class="language-typescript"><code><span class="token comment">// Property &#39;length&#39; does not exist on type &#39;number&#39;.(2339)</span>
<span class="token keyword">function</span> <span class="token function">getLength</span> <span class="token punctuation">(</span>value<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token operator">|</span> <span class="token builtin">number</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">number</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> value<span class="token punctuation">.</span>length
<span class="token punctuation">}</span>

<span class="token comment">// ok</span>
<span class="token keyword">function</span> <span class="token function">valueToStr</span> <span class="token punctuation">(</span>value<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token operator">|</span> <span class="token builtin">number</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">string</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> value<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="ç±»å‹åˆ«å-type-aliases" tabindex="-1"><a class="header-anchor" href="#ç±»å‹åˆ«å-type-aliases"><span>ç±»å‹åˆ«å (Type Aliases)</span></a></h2><p>ç±»å‹åˆ«åç”¨ <code>type</code> å…³é”®å­—æ¥ç»™ä¸€ä¸ªç±»å‹èµ·ä¸ªæ–°çš„åå­—ï¼Œç±»å‹åˆ«åå¸¸ç”¨äºè”åˆç±»å‹ã€‚</p><div class="language-typescript line-numbers-mode" data-ext="ts" data-title="ts"><pre class="language-typescript"><code><span class="token keyword">type</span> <span class="token class-name">CombineType</span> <span class="token operator">=</span> <span class="token builtin">number</span> <span class="token operator">|</span> <span class="token builtin">string</span>
<span class="token keyword">type</span> <span class="token class-name">PeopleType</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  age<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
  name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> value<span class="token operator">:</span> CombineType <span class="token operator">=</span> <span class="token number">666</span>
<span class="token keyword">const</span> obj<span class="token operator">:</span> PeopleType <span class="token operator">=</span> <span class="token punctuation">{</span>
  age<span class="token operator">:</span> <span class="token number">18</span><span class="token punctuation">,</span>
  name<span class="token operator">:</span> <span class="token string">&#39;Christine&#39;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="äº¤å‰ç±»å‹-intersection-types" tabindex="-1"><a class="header-anchor" href="#äº¤å‰ç±»å‹-intersection-types"><span>äº¤å‰ç±»å‹ï¼ˆIntersection Typesï¼‰</span></a></h2><p>äº¤å‰ç±»å‹æ˜¯å°†å¤šä¸ªç±»å‹åˆå¹¶ä¸ºä¸€ä¸ªç±»å‹ã€‚ è¿™è®©æˆ‘ä»¬å¯ä»¥æŠŠç°æœ‰çš„å¤šç§ç±»å‹å åŠ åˆ°ä¸€èµ·æˆä¸ºä¸€ç§ç±»å‹ï¼Œå®ƒåŒ…å«äº†æ‰€éœ€çš„æ‰€æœ‰ç±»å‹çš„ç‰¹æ€§ï¼Œä½¿ç”¨ <code>&amp;</code> å®šä¹‰äº¤å‰ç±»å‹ã€‚</p><div class="language-typescript line-numbers-mode" data-ext="ts" data-title="ts"><pre class="language-typescript"><code><span class="token keyword">interface</span> <span class="token class-name">IPerson</span> <span class="token punctuation">{</span>
  id<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
  age<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">interface</span> <span class="token class-name">IWorker</span> <span class="token punctuation">{</span>
  companyId<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">type</span> <span class="token class-name">IStaff</span> <span class="token operator">=</span> IPerson <span class="token operator">&amp;</span> IWorker<span class="token punctuation">;</span>

<span class="token keyword">const</span> staff<span class="token operator">:</span> IStaff <span class="token operator">=</span> <span class="token punctuation">{</span>
  id<span class="token operator">:</span> <span class="token string">&#39;001&#39;</span><span class="token punctuation">,</span>
  age<span class="token operator">:</span> <span class="token number">18</span><span class="token punctuation">,</span>
  companyId<span class="token operator">:</span> <span class="token string">&#39;100&#39;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>åœ¨ä¸Šé¢ç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬é¦–å…ˆä¸º <code>IPerson</code> å’Œ <code>IWorker</code> ç±»å‹å®šä¹‰äº†ä¸åŒçš„æˆå‘˜ï¼Œç„¶åé€šè¿‡ <code>&amp;</code> è¿ç®—ç¬¦å®šä¹‰äº† <code>IStaff</code> äº¤å‰ç±»å‹ï¼Œæ‰€ä»¥è¯¥ç±»å‹åŒæ—¶æ‹¥æœ‰<code>IPerson</code> å’Œ <code>IWorker</code> è¿™ä¸¤ç§ç±»å‹çš„æˆå‘˜ã€‚é‚£ä¹ˆç°åœ¨é—®é¢˜æ¥äº†ï¼Œå‡è®¾åœ¨åˆå¹¶å¤šä¸ªç±»å‹çš„è¿‡ç¨‹ä¸­ï¼Œåˆšå¥½å‡ºç°æŸäº›ç±»å‹å­˜åœ¨ç›¸åŒçš„æˆå‘˜ï¼Œä½†å¯¹åº”çš„ç±»å‹åˆä¸ä¸€è‡´ï¼Œæ¯”å¦‚ï¼š</p><div class="language-typescript line-numbers-mode" data-ext="ts" data-title="ts"><pre class="language-typescript"><code><span class="token keyword">type</span> <span class="token class-name">IntersectionTypeConfict</span> <span class="token operator">=</span> <span class="token punctuation">{</span> id<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> name<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token punctuation">}</span> <span class="token operator">&amp;</span> <span class="token punctuation">{</span> id<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> age<span class="token operator">:</span> <span class="token builtin">number</span> <span class="token punctuation">}</span>

<span class="token keyword">const</span> mixed<span class="token operator">:</span> IntersectionTypeConfict <span class="token operator">=</span> <span class="token punctuation">{</span>
  id<span class="token operator">:</span> <span class="token number">123</span><span class="token punctuation">,</span>
  name<span class="token operator">:</span> <span class="token string">&#39;Christine&#39;</span><span class="token punctuation">,</span>
  age<span class="token operator">:</span> <span class="token number">18</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä¸Šé¢çš„ç¤ºä¾‹ä¸­ï¼Œæ··å…¥åçš„æˆå‘˜idçš„ç±»å‹ä¸º<code>string &amp; number</code>ï¼Œå³æˆå‘˜idçš„ç±»å‹å³æ˜¯<code>string</code>ç±»å‹åˆä¸º<code>number</code>ç±»å‹ã€‚å¾ˆæ˜æ˜¾è¿™ç§ç±»å‹æ˜¯ä¸å­˜åœ¨çš„ï¼Œæ‰€ä»¥æ··å…¥åæˆå‘˜idçš„ç±»å‹ä¸º<code>never</code>ã€‚</p><p>å¦‚æœåŒåå±æ€§ï¼ˆageï¼‰çš„ç±»å‹å…¼å®¹ï¼Œæ¯”å¦‚ä¸€ä¸ªæ˜¯numberç±»å‹ï¼Œå¦ä¸€ä¸ªæ˜¯numberç±»å‹çš„å­ç±»å‹ï¼ˆå­—é¢é‡ç±»å‹ï¼‰ï¼Œåˆå¹¶åageå±æ€§çš„ç±»å‹å°±æ˜¯ä¸¤è€…ä¸­çš„å­ç±»å‹ï¼Œå³ä¸ºæ•°å­—å­—é¢é‡ç±»å‹ã€‚</p><div class="language-typescript line-numbers-mode" data-ext="ts" data-title="ts"><pre class="language-typescript"><code><span class="token keyword">type</span> <span class="token class-name">IntersectionType</span> <span class="token operator">=</span> <span class="token punctuation">{</span>id<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> age<span class="token operator">:</span> <span class="token number">18</span><span class="token punctuation">}</span> <span class="token operator">&amp;</span> <span class="token punctuation">{</span>name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> age<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">}</span>

<span class="token keyword">let</span> people<span class="token operator">:</span> IntersectionType <span class="token operator">=</span> <span class="token punctuation">{</span>
  id<span class="token operator">:</span> <span class="token string">&#39;001&#39;</span><span class="token punctuation">,</span>
  name<span class="token operator">:</span> <span class="token string">&#39;Christine&#39;</span><span class="token punctuation">,</span>
  age<span class="token operator">:</span> <span class="token number">8</span> <span class="token comment">//Type &#39;8&#39; is not assignable to type &#39;18&#39;.(2322)</span>
<span class="token punctuation">}</span>

people <span class="token operator">=</span> <span class="token punctuation">{</span>
  id<span class="token operator">:</span> <span class="token string">&#39;001&#39;</span><span class="token punctuation">,</span>
  name<span class="token operator">:</span> <span class="token string">&#39;Christine&#39;</span><span class="token punctuation">,</span>
  age<span class="token operator">:</span> <span class="token number">18</span> <span class="token comment">//ok</span>
<span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å¦‚æœåŒåå±æ€§æ˜¯éåŸºæœ¬æ•°æ®ç±»å‹çš„è¯ï¼Œåˆä¼šæ˜¯ä»€ä¹ˆæƒ…å½¢ã€‚æˆ‘ä»¬æ¥çœ‹ä¸ªå…·ä½“çš„ä¾‹å­ï¼š</p><div class="language-typescript line-numbers-mode" data-ext="ts" data-title="ts"><pre class="language-typescript"><code><span class="token keyword">interface</span> <span class="token class-name"><span class="token constant">A</span></span> <span class="token punctuation">{</span>
  x<span class="token operator">:</span><span class="token punctuation">{</span>d<span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
<span class="token keyword">interface</span> <span class="token class-name"><span class="token constant">B</span></span> <span class="token punctuation">{</span>
  x<span class="token operator">:</span><span class="token punctuation">{</span>e<span class="token operator">:</span><span class="token builtin">string</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
<span class="token keyword">interface</span> <span class="token class-name"><span class="token constant">C</span></span> <span class="token punctuation">{</span>
  x<span class="token operator">:</span><span class="token punctuation">{</span>f<span class="token operator">:</span><span class="token builtin">number</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
<span class="token keyword">type</span> <span class="token class-name"><span class="token constant">ABC</span></span> <span class="token operator">=</span> <span class="token constant">A</span> <span class="token operator">&amp;</span> <span class="token constant">B</span> <span class="token operator">&amp;</span> <span class="token constant">C</span>
<span class="token keyword">let</span> abc<span class="token operator">:</span><span class="token constant">ABC</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  x<span class="token operator">:</span><span class="token punctuation">{</span>
    d<span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">,</span>
    e<span class="token operator">:</span><span class="token string">&#39;&#39;</span><span class="token punctuation">,</span>
    f<span class="token operator">:</span><span class="token number">666</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>abc<span class="token punctuation">)</span> 
<span class="token comment">// {</span>
<span class="token comment">//   &quot;x&quot;: {</span>
<span class="token comment">//     &quot;d&quot;: true,</span>
<span class="token comment">//     &quot;e&quot;: &quot;&quot;,</span>
<span class="token comment">//     &quot;f&quot;: 666</span>
<span class="token comment">//   }</span>
<span class="token comment">// } </span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>åœ¨æ··å…¥å¤šä¸ªç±»å‹æ—¶ï¼Œè‹¥å­˜åœ¨ç›¸åŒçš„æˆå‘˜ï¼Œä¸”æˆå‘˜ç±»å‹ä¸ºéåŸºæœ¬æ•°æ®ç±»å‹ï¼Œé‚£ä¹ˆæ˜¯å¯ä»¥æˆåŠŸåˆå¹¶ã€‚</p><h2 id="æ¥å£-interfaces" tabindex="-1"><a class="header-anchor" href="#æ¥å£-interfaces"><span>æ¥å£ (Interfaces)</span></a></h2><p>åœ¨ TypeScript ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨æ¥å£ï¼ˆInterfacesï¼‰æ¥å®šä¹‰å¯¹è±¡çš„ç±»å‹ã€‚</p><p>æ¥å£ï¼ˆInterfacesï¼‰æ˜¯ä¸€ä¸ªå¾ˆé‡è¦çš„æ¦‚å¿µï¼Œå®ƒæ˜¯å¯¹è¡Œä¸ºçš„æŠ½è±¡ï¼Œè€Œå…·ä½“å¦‚ä½•è¡ŒåŠ¨éœ€è¦ç”±ç±»ï¼ˆclassesï¼‰å»å®ç°ï¼ˆimplementï¼‰ã€‚</p><div class="custom-container tip"><p class="custom-container-title">TIP</p><p>æ¥å£åä¸€èˆ¬é¦–å­—æ¯å¤§å†™ã€‚</p></div><div class="language-typescript line-numbers-mode" data-ext="ts" data-title="ts"><pre class="language-typescript"><code><span class="token keyword">interface</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
  age<span class="token operator">:</span> <span class="token builtin">number</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> personal<span class="token operator">:</span> Person <span class="token operator">=</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">&#39;Christine&#39;</span><span class="token punctuation">,</span>
  age<span class="token operator">:</span> <span class="token number">18</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>åœ¨ä¸Šé¢çš„æ —å­ä¸­ï¼Œå˜é‡personalçš„ç±»å‹æ˜¯Personã€‚é‚£ä¹ˆå˜é‡çš„å±æ€§åŠå±æ€§å€¼çš„ç±»å‹å¿…é¡»å’Œæ¥å£Personä¸€è‡´ï¼Œå˜é‡æ¯”æ¥å£å°‘ä¸€äº›å±æ€§æˆ–è€…å¤šä¸€äº›å±æ€§åœ¨TypeScriptä¸­éƒ½æ˜¯ä¸è¢«å…è®¸çš„ã€‚</p><div class="language-typescript line-numbers-mode" data-ext="ts" data-title="ts"><pre class="language-typescript"><code><span class="token keyword">interface</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
  age<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// Property &#39;age&#39; is missing in type &#39;{ name: string; }&#39; but required in type &#39;Person&#39;.(2741)</span>
<span class="token keyword">let</span> personal<span class="token operator">:</span> Person <span class="token operator">=</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">&#39;Christine&#39;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">// Type &#39;{ name: string; age: number; favorite: string; }&#39; is not assignable to type &#39;Person&#39;.</span>
<span class="token comment">// Object literal may only specify known properties, and &#39;favorite&#39; does not exist in type &#39;Person&#39;.(2322)</span>
<span class="token keyword">let</span> personal<span class="token operator">:</span> Person <span class="token operator">=</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">&#39;Christine&#39;</span><span class="token punctuation">,</span>
  age<span class="token operator">:</span> <span class="token number">18</span><span class="token punctuation">,</span>
  favorite<span class="token operator">:</span> <span class="token string">&#39;apple&#39;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="å¯é€‰-åªè¯»å±æ€§" tabindex="-1"><a class="header-anchor" href="#å¯é€‰-åªè¯»å±æ€§"><span>å¯é€‰ | åªè¯»å±æ€§</span></a></h3><div class="language-typescript line-numbers-mode" data-ext="ts" data-title="ts"><pre class="language-typescript"><code><span class="token keyword">interface</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
  <span class="token keyword">readonly</span> name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span>
  age<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">number</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>åªè¯»å±æ€§ç”¨äºé™åˆ¶åªèƒ½åœ¨å¯¹è±¡åˆå§‹åŒ–çš„æ—¶å€™èµ‹å€¼ï¼Œä¸èƒ½åœ¨ä¹‹åä¿®æ”¹å¯¹è±¡åªè¯»å±æ€§çš„å€¼ã€‚</p><p>TypeScriptè¿˜æä¾›äº†<code>ReadonlyArray&lt;T&gt;</code>ç±»å‹ï¼Œå®ƒä¸<code>Array&lt;T&gt;</code>ç›¸ä¼¼ï¼Œåªæ˜¯å»æ‰äº†æ‰€æœ‰å¯ä»¥æ”¹å˜æ•°ç»„çš„æ–¹æ³•ï¼Œå› æ­¤å¯ä»¥ç¡®ä¿æ•°ç»„åˆ›å»ºåå†ä¹Ÿä¸èƒ½è¢«ä¿®æ”¹ã€‚</p><div class="language-typescript line-numbers-mode" data-ext="ts" data-title="ts"><pre class="language-typescript"><code><span class="token keyword">let</span> arr<span class="token operator">:</span> ReadonlyArray<span class="token operator">&lt;</span><span class="token builtin">number</span><span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span>
arr<span class="token punctuation">.</span>length <span class="token operator">=</span> <span class="token number">4</span> <span class="token comment">//error</span>
arr<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span> <span class="token comment">//error</span>
arr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">5</span> <span class="token comment">//error</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="ä»»æ„ç±»å‹" tabindex="-1"><a class="header-anchor" href="#ä»»æ„ç±»å‹"><span>ä»»æ„ç±»å‹</span></a></h3><p>æœ‰æ—¶å€™æˆ‘ä»¬å¸Œæœ›ä¸€ä¸ªæ¥å£ä¸­é™¤äº†åŒ…å«å¿…é€‰å’Œå¯é€‰å±æ€§ä¹‹å¤–ï¼Œè¿˜å…è®¸æœ‰å…¶ä»–çš„ä»»æ„å±æ€§ï¼Œè¿™æ—¶æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ <code>ç´¢å¼•ç­¾å</code> çš„å½¢å¼æ¥æ»¡è¶³ä¸Šè¿°è¦æ±‚ã€‚</p><div class="language-typescript line-numbers-mode" data-ext="ts" data-title="ts"><pre class="language-typescript"><code><span class="token keyword">interface</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
  age<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
  <span class="token punctuation">[</span>propName<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">]</span><span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> christine<span class="token operator">:</span> Person <span class="token operator">=</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">&#39;Christine&#39;</span><span class="token punctuation">,</span>
  age<span class="token operator">:</span> <span class="token number">18</span><span class="token punctuation">,</span>
  sex<span class="token operator">:</span> <span class="token string">&#39;å¥³&#39;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="custom-container tip"><p class="custom-container-title">TIP</p><p>ä¸€æ—¦å®šä¹‰äº†ä»»æ„å±æ€§ï¼Œé‚£ä¹ˆå¿…é€‰å±æ€§å’Œå¯é€‰å±æ€§çš„ç±»å‹éƒ½å¿…é¡»æ˜¯å®ƒçš„ç±»å‹çš„å­é›†ã€‚</p></div><div class="language-typescript line-numbers-mode" data-ext="ts" data-title="ts"><pre class="language-typescript"><code>
<span class="token comment">// Property &#39;age&#39; of type &#39;number | undefined&#39; is not assignable to &#39;string&#39; index type &#39;string&#39;.(2411)</span>
<span class="token keyword">interface</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
  age<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
  <span class="token punctuation">[</span>propName<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">]</span><span class="token operator">:</span> <span class="token builtin">string</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> christine<span class="token operator">:</span> Person <span class="token operator">=</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">&#39;Christine&#39;</span><span class="token punctuation">,</span>
  age<span class="token operator">:</span> <span class="token number">18</span><span class="token punctuation">,</span>
  sex<span class="token operator">:</span> <span class="token string">&#39;å¥³&#39;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä¸Šä¾‹ä¸­ï¼Œä»»æ„å±æ€§çš„å€¼æ˜¯<code>string</code>ç±»å‹ï¼Œä½†æ˜¯å¯é€‰å±æ€§<code>age</code>çš„å€¼æ˜¯<code>number</code>ç±»å‹ï¼Œ<code>number</code>ç±»å‹ä¸æ˜¯<code>string</code>ç±»å‹çš„å­ç±»å‹ï¼Œæ‰€ä»¥ä¼šæŠ¥é”™ã€‚</p><p>ä¸€ä¸ªæ¥å£ä¸­åªèƒ½å®šä¹‰ä¸€ä¸ªä»»æ„å±æ€§ã€‚å¦‚æœæ¥å£ä¸­æœ‰å¤šä¸ªç±»å‹çš„å±æ€§ï¼Œåˆ™å¯ä»¥åœ¨ä»»æ„å±æ€§ä¸­ä½¿ç”¨è”åˆç±»å‹ï¼š</p><div class="language-typescript line-numbers-mode" data-ext="ts" data-title="ts"><pre class="language-typescript"><code><span class="token keyword">interface</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
  age<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span> <span class="token comment">// ç±»å‹æ˜¯number | undefined</span>
  <span class="token punctuation">[</span>propName<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">]</span><span class="token operator">:</span> <span class="token builtin">string</span> <span class="token operator">|</span> <span class="token builtin">number</span> <span class="token operator">|</span> <span class="token keyword">undefined</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> christine<span class="token operator">:</span> Person <span class="token operator">=</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">&#39;Christine&#39;</span><span class="token punctuation">,</span>
  age<span class="token operator">:</span> <span class="token number">18</span><span class="token punctuation">,</span>
  sex<span class="token operator">:</span> <span class="token string">&#39;å¥³&#39;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="ç»•å¼€é¢å¤–å±æ€§æ£€æŸ¥çš„æ–¹å¼" tabindex="-1"><a class="header-anchor" href="#ç»•å¼€é¢å¤–å±æ€§æ£€æŸ¥çš„æ–¹å¼"><span>ç»•å¼€é¢å¤–å±æ€§æ£€æŸ¥çš„æ–¹å¼</span></a></h3><h4 id="é¸­å¼è¾¨å‹æ³•" tabindex="-1"><a class="header-anchor" href="#é¸­å¼è¾¨å‹æ³•"><span>é¸­å¼è¾¨å‹æ³•</span></a></h4><p>æ‰€è°“çš„é¸­å¼è¾¨å‹æ³•å°±æ˜¯<code>åƒé¸­å­ä¸€æ ·èµ°è·¯å¹¶ä¸”å˜å˜å«çš„å°±å«é¸­å­</code>ï¼Œå³å…·æœ‰é¸­å­ç‰¹å¾çš„è®¤ä¸ºå®ƒå°±æ˜¯é¸­å­ï¼Œä¹Ÿå°±æ˜¯é€šè¿‡åˆ¶å®šè§„åˆ™æ¥åˆ¤å®šå¯¹è±¡æ˜¯å¦å®ç°è¿™ä¸ªæ¥å£ã€‚</p><div class="language-typescript line-numbers-mode" data-ext="ts" data-title="ts"><pre class="language-typescript"><code><span class="token keyword">interface</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">setPersonInfo</span><span class="token punctuation">(</span>person<span class="token operator">:</span> Person<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>person<span class="token punctuation">.</span>age<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> christine <span class="token operator">=</span> <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">&#39;Christine&#39;</span><span class="token punctuation">,</span> sex<span class="token operator">:</span> <span class="token string">&#39;å¥³&#39;</span> <span class="token punctuation">}</span>

<span class="token function">setPersonInfo</span><span class="token punctuation">(</span>christine<span class="token punctuation">)</span> <span class="token comment">//ok</span>

<span class="token comment">// Argument of type &#39;{ name: string; sex: string; }&#39; is not assignable to parameter of type &#39;Person&#39;.</span>
  Object literal may only specify known properties<span class="token punctuation">,</span> and <span class="token string">&#39;sex&#39;</span> does not exist <span class="token keyword">in</span> <span class="token keyword">type</span> <span class="token string">&#39;Person&#39;</span><span class="token punctuation">.</span><span class="token punctuation">(</span><span class="token number">2345</span><span class="token punctuation">)</span>
<span class="token function">setPersonInfo</span><span class="token punctuation">(</span><span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">&#39;Christine&#39;</span><span class="token punctuation">,</span> sex<span class="token operator">:</span> <span class="token string">&#39;å¥³&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ç”±ä¸Šä¾‹è¯´æ˜ï¼šåœ¨å‚æ•°é‡Œå†™å¯¹è±¡å°±ç›¸å½“äºæ˜¯ç›´æ¥ç»™<code>person</code>èµ‹å€¼ï¼Œè¿™ä¸ªå¯¹è±¡æœ‰ä¸¥æ ¼çš„ç±»å‹å®šä¹‰ï¼Œæ‰€ä»¥ä¸èƒ½å¤šå‚æˆ–å°‘å‚ã€‚è€Œå½“ä½ åœ¨å¤–é¢å°†è¯¥å¯¹è±¡ç”¨å¦ä¸€ä¸ªå˜é‡<code>christine</code>æ¥æ”¶ï¼Œ<code>christine</code>ä¸ä¼šç»è¿‡é¢å¤–å±æ€§æ£€æŸ¥ï¼Œä½†ä¼šæ ¹æ®ç±»å‹æ¨è®ºä¸º<code>let christine: { name: number; sex: string } = { name: &#39;Christine&#39;, sex: &#39;å¥³&#39; }</code>ï¼Œç„¶åå°†è¿™ä¸ª<code>christine</code>å†èµ‹å€¼ç»™<code>person</code>ï¼Œæ­¤æ—¶æ ¹æ®ç±»å‹çš„å…¼å®¹æ€§ï¼Œä¸¤ç§ç±»å‹å¯¹è±¡ï¼Œå‚ç…§é¸­å¼è¾¨å‹æ³•ï¼Œå› ä¸ºéƒ½å…·æœ‰<code>name</code>å±æ€§ï¼Œæ‰€ä»¥è¢«è®¤å®šä¸ºä¸¤ä¸ªç›¸åŒï¼Œæ•…è€Œå¯ä»¥ç”¨æ­¤æ³•æ¥ç»•å¼€å¤šä½™çš„ç±»å‹æ£€æŸ¥ã€‚</p><h4 id="ç±»å‹æ–­è¨€" tabindex="-1"><a class="header-anchor" href="#ç±»å‹æ–­è¨€"><span>ç±»å‹æ–­è¨€</span></a></h4><p>ç±»å‹æ–­è¨€çš„æ„ä¹‰å°±ç­‰åŒäºä½ åœ¨å‘Šè¯‰ç¨‹åºï¼Œä½ å¾ˆæ¸…æ¥šè‡ªå·±åœ¨åšä»€ä¹ˆï¼Œæ­¤æ—¶ç¨‹åºè‡ªç„¶å°±ä¸ä¼šå†è¿›è¡Œé¢å¤–çš„å±æ€§æ£€æŸ¥äº†ã€‚</p><div class="language-typescript line-numbers-mode" data-ext="ts" data-title="ts"><pre class="language-typescript"><code><span class="token keyword">interface</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
  age<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span> 
  sex<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> christine<span class="token operator">:</span> Person <span class="token operator">=</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">&#39;Christine&#39;</span><span class="token punctuation">,</span>
  age<span class="token operator">:</span> <span class="token number">18</span><span class="token punctuation">,</span>
  sex<span class="token operator">:</span> <span class="token string">&#39;å¥³&#39;</span><span class="token punctuation">,</span>
  eat<span class="token operator">:</span> <span class="token string">&#39;food&#39;</span>
<span class="token punctuation">}</span> <span class="token keyword">as</span> Person
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="ç´¢å¼•ç­¾å" tabindex="-1"><a class="header-anchor" href="#ç´¢å¼•ç­¾å"><span>ç´¢å¼•ç­¾å</span></a></h4><div class="language-typescript line-numbers-mode" data-ext="ts" data-title="ts"><pre class="language-typescript"><code><span class="token keyword">interface</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
  age<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span> 
  sex<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
  <span class="token punctuation">[</span>propName<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">]</span><span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> christine<span class="token operator">:</span> Person <span class="token operator">=</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">&#39;Christine&#39;</span><span class="token punctuation">,</span>
  age<span class="token operator">:</span> <span class="token number">18</span><span class="token punctuation">,</span>
  sex<span class="token operator">:</span> <span class="token string">&#39;å¥³&#39;</span><span class="token punctuation">,</span>
  eat<span class="token operator">:</span> <span class="token string">&#39;food&#39;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="æ¥å£ä¸ç±»å‹åˆ«åçš„åŒºåˆ«" tabindex="-1"><a class="header-anchor" href="#æ¥å£ä¸ç±»å‹åˆ«åçš„åŒºåˆ«"><span>æ¥å£ä¸ç±»å‹åˆ«åçš„åŒºåˆ«</span></a></h3><p>ç±»å‹åˆ«åä¼šç»™ä¸€ä¸ªç±»å‹èµ·ä¸ªæ–°åå­—,èµ·åˆ«åä¸ä¼šæ–°å»ºä¸€ä¸ªç±»å‹ï¼Œåªæ˜¯åˆ›å»ºäº†ä¸€ä¸ªæ–°åå­—æ¥å¼•ç”¨é‚£ä¸ªç±»å‹ã€‚ç±»å‹åˆ«åæœ‰æ—¶å’Œæ¥å£å¾ˆåƒï¼Œä½†æ˜¯å¯ä»¥ä½œç”¨äºåŸå§‹å€¼ï¼Œè”åˆç±»å‹ï¼Œå…ƒç»„ä»¥åŠå…¶å®ƒä»»ä½•ä½ éœ€è¦æ‰‹å†™çš„ç±»å‹ã€‚</p><p><strong>Objects / Functions</strong> ä¸¤è€…éƒ½å¯ä»¥ç”¨æ¥æè¿°å¯¹è±¡æˆ–å‡½æ•°çš„ç±»å‹ï¼Œä½†æ˜¯è¯­æ³•ä¸åŒã€‚</p><p><strong>Interface</strong></p><div class="language-typescript line-numbers-mode" data-ext="ts" data-title="ts"><pre class="language-typescript"><code><span class="token keyword">interface</span> <span class="token class-name">Point</span> <span class="token punctuation">{</span>
  x<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
  y<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">interface</span> <span class="token class-name">SetPoint</span> <span class="token punctuation">{</span>
  <span class="token punctuation">(</span>x<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> y<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>Type alias</strong></p><div class="language-typescript line-numbers-mode" data-ext="ts" data-title="ts"><pre class="language-typescript"><code><span class="token keyword">type</span> <span class="token class-name">Point</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  x<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
  y<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">type</span> <span class="token class-name">SetPoint</span> <span class="token operator">=</span> <span class="token punctuation">(</span>x<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> y<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">void</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>Other Types</strong> ä¸æ¥å£ä¸åŒï¼Œç±»å‹åˆ«åè¿˜å¯ä»¥ç”¨äºå…¶ä»–ç±»å‹ï¼Œå¦‚åŸºæœ¬ç±»å‹ï¼ˆåŸå§‹å€¼ï¼‰ã€è”åˆç±»å‹ã€å…ƒç»„ã€‚</p><div class="language-typescript line-numbers-mode" data-ext="ts" data-title="ts"><pre class="language-typescript"><code><span class="token comment">// primitive</span>
<span class="token keyword">type</span> <span class="token class-name">Name</span> <span class="token operator">=</span> <span class="token builtin">string</span><span class="token punctuation">;</span>

<span class="token comment">// object</span>
<span class="token keyword">type</span> <span class="token class-name">PartialPointX</span> <span class="token operator">=</span> <span class="token punctuation">{</span> x<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">type</span> <span class="token class-name">PartialPointY</span> <span class="token operator">=</span> <span class="token punctuation">{</span> y<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">// union</span>
<span class="token keyword">type</span> <span class="token class-name">PartialPoint</span> <span class="token operator">=</span> PartialPointX <span class="token operator">|</span> PartialPointY<span class="token punctuation">;</span>

<span class="token comment">// tuple</span>
<span class="token keyword">type</span> <span class="token class-name">Data</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token builtin">number</span><span class="token punctuation">,</span> <span class="token builtin">string</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token comment">// dom</span>
<span class="token keyword">let</span> div <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&#39;div&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">type</span> <span class="token class-name"><span class="token constant">B</span></span> <span class="token operator">=</span> <span class="token keyword">typeof</span> div<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>æ¥å£å¯ä»¥å®šä¹‰å¤šæ¬¡,ç±»å‹åˆ«åä¸å¯ä»¥</strong> ä¸ç±»å‹åˆ«åä¸åŒï¼Œæ¥å£å¯ä»¥å®šä¹‰å¤šæ¬¡ï¼Œä¼šè¢«è‡ªåŠ¨åˆå¹¶ä¸ºå•ä¸ªæ¥å£ã€‚</p><div class="language-typescript line-numbers-mode" data-ext="ts" data-title="ts"><pre class="language-typescript"><code><span class="token keyword">interface</span> <span class="token class-name">Point</span> <span class="token punctuation">{</span> x<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token keyword">interface</span> <span class="token class-name">Point</span> <span class="token punctuation">{</span> y<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token keyword">const</span> point<span class="token operator">:</span> Point <span class="token operator">=</span> <span class="token punctuation">{</span> x<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> y<span class="token operator">:</span> <span class="token number">2</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>æ‰©å±•</strong> ä¸¤è€…çš„æ‰©å±•æ–¹å¼ä¸åŒï¼Œä½†å¹¶ä¸äº’æ–¥ã€‚æ¥å£å¯ä»¥æ‰©å±•ç±»å‹åˆ«åï¼ŒåŒç†ï¼Œç±»å‹åˆ«åä¹Ÿå¯ä»¥æ‰©å±•æ¥å£ã€‚</p><p>æ¥å£çš„æ‰©å±•å°±æ˜¯ç»§æ‰¿ï¼Œé€šè¿‡ <code>extends</code> æ¥å®ç°ã€‚ç±»å‹åˆ«åçš„æ‰©å±•å°±æ˜¯äº¤å‰ç±»å‹ï¼Œé€šè¿‡ <code>&amp;</code> æ¥å®ç°ã€‚</p><ul><li>æ¥å£æ‰©å±•æ¥å£</li></ul><div class="language-typescript line-numbers-mode" data-ext="ts" data-title="ts"><pre class="language-typescript"><code><span class="token keyword">interface</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
  age<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span> 
  sex<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">interface</span> <span class="token class-name">PersonA</span> <span class="token keyword">extends</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
  money<span class="token operator">:</span> <span class="token builtin">number</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> christine<span class="token operator">:</span> PersonA <span class="token operator">=</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">&#39;Christine&#39;</span><span class="token punctuation">,</span>
  age<span class="token operator">:</span> <span class="token number">18</span><span class="token punctuation">,</span>
  sex<span class="token operator">:</span> <span class="token string">&#39;å¥³&#39;</span><span class="token punctuation">,</span>
  money<span class="token operator">:</span> <span class="token number">1800</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>ç±»å‹åˆ«åæ‰©å±•ç±»å‹åˆ«å</li></ul><div class="language-typescript line-numbers-mode" data-ext="ts" data-title="ts"><pre class="language-typescript"><code><span class="token keyword">type</span> <span class="token class-name">Person</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
  age<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span> 
  sex<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">type</span> <span class="token class-name">PersonA</span> <span class="token operator">=</span> Person <span class="token operator">&amp;</span> <span class="token punctuation">{</span>
  money<span class="token operator">:</span> <span class="token builtin">number</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> christine<span class="token operator">:</span> PersonA <span class="token operator">=</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">&#39;Christine&#39;</span><span class="token punctuation">,</span>
  age<span class="token operator">:</span> <span class="token number">18</span><span class="token punctuation">,</span>
  sex<span class="token operator">:</span> <span class="token string">&#39;å¥³&#39;</span><span class="token punctuation">,</span>
  money<span class="token operator">:</span> <span class="token number">1800</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>æ¥å£æ‰©å±•ç±»å‹åˆ«å</li></ul><div class="language-typescript line-numbers-mode" data-ext="ts" data-title="ts"><pre class="language-typescript"><code><span class="token keyword">type</span> <span class="token class-name">Person</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
  age<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span> 
  sex<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">interface</span> <span class="token class-name">PersonA</span> <span class="token keyword">extends</span> <span class="token class-name">Person</span><span class="token punctuation">{</span>
  money<span class="token operator">:</span> <span class="token builtin">number</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> christine<span class="token operator">:</span> PersonA <span class="token operator">=</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">&#39;Christine&#39;</span><span class="token punctuation">,</span>
  age<span class="token operator">:</span> <span class="token number">18</span><span class="token punctuation">,</span>
  sex<span class="token operator">:</span> <span class="token string">&#39;å¥³&#39;</span><span class="token punctuation">,</span>
  money<span class="token operator">:</span> <span class="token number">1800</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>ç±»å‹åˆ«åæ‰©å±•æ¥å£</li></ul><div class="language-typescript line-numbers-mode" data-ext="ts" data-title="ts"><pre class="language-typescript"><code><span class="token keyword">interface</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
  age<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span> 
  sex<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">type</span> <span class="token class-name">PersonA</span> <span class="token operator">=</span> Person <span class="token operator">&amp;</span> <span class="token punctuation">{</span>
  money<span class="token operator">:</span> <span class="token builtin">number</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> christine<span class="token operator">:</span> PersonA <span class="token operator">=</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">&#39;Christine&#39;</span><span class="token punctuation">,</span>
  age<span class="token operator">:</span> <span class="token number">18</span><span class="token punctuation">,</span>
  sex<span class="token operator">:</span> <span class="token string">&#39;å¥³&#39;</span><span class="token punctuation">,</span>
  money<span class="token operator">:</span> <span class="token number">1800</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="æ³›å‹-generics" tabindex="-1"><a class="header-anchor" href="#æ³›å‹-generics"><span>æ³›å‹ (Generics)</span></a></h2><div class="language-typescript line-numbers-mode" data-ext="ts" data-title="ts"><pre class="language-typescript"><code><span class="token keyword">function</span> <span class="token generic-function"><span class="token function">ha</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token constant">T</span><span class="token punctuation">,</span> <span class="token constant">U</span><span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span>id<span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">,</span> value<span class="token operator">:</span> <span class="token constant">U</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token constant">T</span> <span class="token punctuation">{</span>
  <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span>
  <span class="token keyword">return</span> id
<span class="token punctuation">}</span>

<span class="token generic-function"><span class="token function">ha</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token builtin">number</span><span class="token punctuation">,</span> <span class="token builtin">string</span><span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span><span class="token number">123</span><span class="token punctuation">,</span> <span class="token string">&#39;hi&#39;</span><span class="token punctuation">)</span>
<span class="token generic-function"><span class="token function">ha</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token punctuation">,</span> <span class="token builtin">boolean</span><span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span><span class="token string">&#39;123&#39;</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span>
<span class="token generic-function"><span class="token function">ha</span><span class="token generic class-name"><span class="token operator">&lt;</span>Number<span class="token punctuation">,</span> <span class="token builtin">string</span><span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span><span class="token number">123</span><span class="token punctuation">,</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>T å’Œ U æ˜¯æŠ½è±¡ç±»å‹ï¼Œåªæœ‰åœ¨è°ƒç”¨çš„æ—¶å€™æ‰ç¡®å®šå®ƒçš„å€¼ã€‚</p><p>é™¤äº†ä¸ºç±»å‹å˜é‡æ˜¾å¼è®¾å®šå€¼ä¹‹å¤–ï¼Œä¸€ç§æ›´å¸¸è§çš„åšæ³•æ˜¯ä½¿ç¼–è¯‘å™¨è‡ªåŠ¨é€‰æ‹©è¿™äº›ç±»å‹ï¼Œä»è€Œä½¿ä»£ç æ›´ç®€æ´ã€‚æˆ‘ä»¬å¯ä»¥å®Œå…¨çœç•¥å°–æ‹¬å·ï¼Œæ¯”å¦‚ï¼š</p><div class="language-typescript line-numbers-mode" data-ext="ts" data-title="ts"><pre class="language-typescript"><code><span class="token keyword">function</span> <span class="token generic-function"><span class="token function">ha</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token constant">T</span><span class="token punctuation">,</span> <span class="token constant">U</span><span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span>id<span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">,</span> value<span class="token operator">:</span> <span class="token constant">U</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token constant">T</span> <span class="token punctuation">{</span>
  <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span>
  <span class="token keyword">return</span> id
<span class="token punctuation">}</span>

<span class="token function">ha</span><span class="token punctuation">(</span><span class="token number">123</span><span class="token punctuation">,</span> <span class="token string">&#39;hi&#39;</span><span class="token punctuation">)</span>
<span class="token function">ha</span><span class="token punctuation">(</span><span class="token string">&#39;123&#39;</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span>
<span class="token function">ha</span><span class="token punctuation">(</span><span class="token number">123</span><span class="token punctuation">,</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="çº¦æŸç±»å‹" tabindex="-1"><a class="header-anchor" href="#çº¦æŸç±»å‹"><span>çº¦æŸç±»å‹</span></a></h3><div class="language-typescript line-numbers-mode" data-ext="ts" data-title="ts"><pre class="language-typescript"><code><span class="token keyword">function</span> <span class="token generic-function"><span class="token function">trace</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span>arg<span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token constant">T</span> <span class="token punctuation">{</span>
  <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arg<span class="token punctuation">.</span>size<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Error: Property &#39;size doesn&#39;t exist on type &#39;T&#39;</span>
  <span class="token keyword">return</span> arg<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æŠ¥é”™çš„åŸå› åœ¨äº T ç†è®ºä¸Šæ˜¯å¯ä»¥æ˜¯ä»»ä½•ç±»å‹çš„ï¼Œä¸åŒäº anyï¼Œä½ ä¸ç®¡ä½¿ç”¨å®ƒçš„ä»€ä¹ˆå±æ€§æˆ–è€…æ–¹æ³•éƒ½ä¼šæŠ¥é”™ï¼ˆé™¤éè¿™ä¸ªå±æ€§å’Œæ–¹æ³•æ˜¯æ‰€æœ‰é›†åˆå…±æœ‰çš„ï¼‰ã€‚é‚£ä¹ˆç›´è§‚çš„æƒ³æ³•æ˜¯é™å®šä¼ ç»™ trace å‡½æ•°çš„<code>å‚æ•°ç±»å‹</code>åº”è¯¥æœ‰ size ç±»å‹ï¼Œè¿™æ ·å°±ä¸ä¼šæŠ¥é”™äº†ã€‚å¦‚ä½•å»è¡¨è¾¾è¿™ä¸ª<code>ç±»å‹çº¦æŸ</code>çš„ç‚¹å‘¢ï¼Ÿå®ç°è¿™ä¸ªéœ€æ±‚çš„å…³é”®åœ¨äºä½¿ç”¨ç±»å‹çº¦æŸã€‚ ä½¿ç”¨ extends å…³é”®å­—å¯ä»¥åšåˆ°è¿™ä¸€ç‚¹ã€‚ç®€å•æ¥è¯´å°±æ˜¯ä½ å®šä¹‰ä¸€ä¸ªç±»å‹ï¼Œç„¶åè®© T å®ç°è¿™ä¸ªæ¥å£å³å¯ã€‚</p><div class="language-typescript line-numbers-mode" data-ext="ts" data-title="ts"><pre class="language-typescript"><code><span class="token keyword">interface</span> <span class="token class-name">Sizeable</span> <span class="token punctuation">{</span>
  size<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token generic-function"><span class="token function">trace</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token constant">T</span> <span class="token keyword">extends</span> Sizeable<span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span>arg<span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token constant">T</span> <span class="token punctuation">{</span>
  <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arg<span class="token punctuation">.</span>size<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> arg<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token function">trace</span><span class="token punctuation">(</span><span class="token punctuation">{</span>size<span class="token operator">:</span> <span class="token number">123</span><span class="token punctuation">,</span> age<span class="token operator">:</span> <span class="token number">18</span><span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token keyword">function</span> <span class="token generic-function"><span class="token function">trace</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token punctuation">{</span>
    size<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
    age<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span>arg<span class="token operator">:</span> <span class="token punctuation">{</span>
    size<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
    age<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    size<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
    age<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="æ³›å‹å·¥å…·ç±»å‹" tabindex="-1"><a class="header-anchor" href="#æ³›å‹å·¥å…·ç±»å‹"><span>æ³›å‹å·¥å…·ç±»å‹</span></a></h2><h3 id="typeof" tabindex="-1"><a class="header-anchor" href="#typeof"><span>typeof</span></a></h3><p>typeof çš„ä¸»è¦ç”¨é€”æ˜¯åœ¨ç±»å‹ä¸Šä¸‹æ–‡ä¸­è·å–å˜é‡æˆ–è€…å±æ€§çš„ç±»å‹ã€‚</p><div class="language-typescript line-numbers-mode" data-ext="ts" data-title="ts"><pre class="language-typescript"><code><span class="token keyword">interface</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
  age<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> people<span class="token operator">:</span> Person <span class="token operator">=</span> <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">&quot;Christine&quot;</span><span class="token punctuation">,</span> age<span class="token operator">:</span> <span class="token number">18</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">type</span> <span class="token class-name">People</span> <span class="token operator">=</span> <span class="token keyword">typeof</span> people<span class="token punctuation">;</span> <span class="token comment">// type People = Person</span>

<span class="token keyword">const</span> chris<span class="token operator">:</span> People <span class="token operator">=</span> <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">&#39;hi&#39;</span><span class="token punctuation">,</span> age<span class="token operator">:</span> <span class="token number">18</span> <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>åœ¨ä¸Šé¢ä»£ç ä¸­ï¼Œæˆ‘ä»¬é€šè¿‡ <code>typeof</code> æ“ä½œç¬¦è·å– people å˜é‡çš„ç±»å‹å¹¶èµ‹å€¼ç»™ People ç±»å‹å˜é‡ã€‚</p><p>è¿˜å¯ä»¥å¯¹åµŒå¥—å¯¹è±¡æ‰§è¡Œç›¸åŒçš„æ“ä½œï¼š</p><div class="language-typescript line-numbers-mode" data-ext="ts" data-title="ts"><pre class="language-typescript"><code><span class="token keyword">const</span> Message <span class="token operator">=</span> <span class="token punctuation">{</span>
    name<span class="token operator">:</span> <span class="token string">&quot;jimmy&quot;</span><span class="token punctuation">,</span>
    age<span class="token operator">:</span> <span class="token number">18</span><span class="token punctuation">,</span>
    address<span class="token operator">:</span> <span class="token punctuation">{</span>
      province<span class="token operator">:</span> <span class="token string">&#39;å››å·&#39;</span><span class="token punctuation">,</span>
      city<span class="token operator">:</span> <span class="token string">&#39;æˆéƒ½&#39;</span>   
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">type</span> <span class="token class-name">message</span> <span class="token operator">=</span> <span class="token keyword">typeof</span> Message<span class="token punctuation">;</span>
<span class="token comment">/*
 type message = {
    name: string;
    age: number;
    address: {
        province: string;
        city: string;
    };
}
*/</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ­¤å¤–ï¼Œ<code>typeof</code> æ“ä½œç¬¦é™¤äº†å¯ä»¥è·å–å¯¹è±¡çš„ç»“æ„ç±»å‹ä¹‹å¤–ï¼Œå®ƒä¹Ÿå¯ä»¥ç”¨æ¥è·å–å‡½æ•°å¯¹è±¡çš„ç±»å‹ï¼Œæ¯”å¦‚ï¼š</p><div class="language-typescript line-numbers-mode" data-ext="ts" data-title="ts"><pre class="language-typescript"><code><span class="token keyword">function</span> <span class="token function">toArray</span><span class="token punctuation">(</span>x<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Array</span><span class="token operator">&lt;</span><span class="token builtin">number</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">type</span> <span class="token class-name">Func</span> <span class="token operator">=</span> <span class="token keyword">typeof</span> toArray<span class="token punctuation">;</span> <span class="token comment">// -&gt; (x: number) =&gt; number[]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="keyof" tabindex="-1"><a class="header-anchor" href="#keyof"><span>keyof</span></a></h3><p><strong><code>keyof</code> æ“ä½œç¬¦æ˜¯åœ¨ TypeScript 2.1 ç‰ˆæœ¬å¼•å…¥çš„ï¼Œè¯¥æ“ä½œç¬¦å¯ä»¥ç”¨äºè·å–æŸç§ç±»å‹çš„æ‰€æœ‰é”®ï¼Œå…¶è¿”å›ç±»å‹æ˜¯è”åˆç±»å‹ã€‚</strong></p><div class="language-typescript line-numbers-mode" data-ext="ts" data-title="ts"><pre class="language-typescript"><code><span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token number">0</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> length<span class="token operator">:</span> <span class="token number">3</span> <span class="token punctuation">}</span>

<span class="token keyword">type</span> <span class="token class-name"><span class="token constant">K1</span></span> <span class="token operator">=</span> <span class="token keyword">keyof</span> <span class="token keyword">typeof</span> obj<span class="token punctuation">;</span> <span class="token comment">// 0 | 1 | &quot;length&quot;</span>
<span class="token keyword">type</span> <span class="token class-name"><span class="token constant">K2</span></span> <span class="token operator">=</span> <span class="token keyword">keyof</span> <span class="token keyword">typeof</span> obj<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>  <span class="token comment">// number | &quot;length&quot; | &quot;push&quot; | &quot;concat&quot; | ...</span>
<span class="token keyword">type</span> <span class="token class-name"><span class="token constant">K3</span></span> <span class="token operator">=</span> <span class="token keyword">keyof</span> <span class="token punctuation">{</span> <span class="token punctuation">[</span>x<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">]</span><span class="token operator">:</span> <span class="token builtin">any</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>  <span class="token comment">// string | number</span>
<span class="token keyword">type</span> <span class="token class-name"><span class="token constant">K4</span></span> <span class="token operator">=</span> <span class="token keyword">keyof</span> <span class="token punctuation">{</span> <span class="token punctuation">[</span>x<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">]</span><span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token comment">// number</span>
<span class="token keyword">type</span> <span class="token class-name"><span class="token constant">K5</span></span> <span class="token operator">=</span> <span class="token keyword">keyof</span> <span class="token punctuation">{</span> <span class="token punctuation">[</span>x<span class="token operator">:</span> <span class="token builtin">symbol</span><span class="token punctuation">]</span><span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token comment">// symbol</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>é™¤äº†æ¥å£å¤–ï¼Œ<code>keyof</code> ä¹Ÿå¯ä»¥ç”¨äºæ“ä½œç±»ï¼Œæ¯”å¦‚ï¼š</p><div class="language-typescript line-numbers-mode" data-ext="ts" data-title="ts"><pre class="language-typescript"><code><span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token operator">=</span> <span class="token string">&quot;Christine&quot;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> sname<span class="token operator">:</span> <span class="token keyword">keyof</span> Person<span class="token punctuation">;</span>
sname <span class="token operator">=</span> <span class="token string">&quot;name&quot;</span><span class="token punctuation">;</span>

<span class="token comment">// Type &#39;&quot;age&quot;&#39; is not assignable to type &#39;&quot;name&quot;&#39;.(2322)</span>
sname <span class="token operator">=</span> <span class="token string">&quot;age&quot;</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>keyof</code> æ“ä½œç¬¦é™¤äº†æ”¯æŒæ¥å£å’Œç±»ä¹‹å¤–ï¼Œå®ƒä¹Ÿæ”¯æŒåŸºæœ¬æ•°æ®ç±»å‹ï¼š</p><div class="language-typescript line-numbers-mode" data-ext="ts" data-title="ts"><pre class="language-typescript"><code><span class="token keyword">let</span> <span class="token constant">K1</span><span class="token operator">:</span> <span class="token keyword">keyof</span> <span class="token builtin">boolean</span><span class="token punctuation">;</span> <span class="token comment">// let K1: &quot;valueOf&quot;</span>
<span class="token keyword">let</span> <span class="token constant">K2</span><span class="token operator">:</span> <span class="token keyword">keyof</span> <span class="token builtin">number</span><span class="token punctuation">;</span> <span class="token comment">// let K2: &quot;valueOf&quot; | &quot;toString&quot; | &quot;toFixed&quot; | &quot;toExponential&quot; | &quot;toPrecision&quot; | &quot;toLocaleString&quot;</span>
<span class="token keyword">let</span> <span class="token constant">K3</span><span class="token operator">:</span> <span class="token keyword">keyof</span> <span class="token builtin">symbol</span><span class="token punctuation">;</span> <span class="token comment">// let K1: &quot;valueOf&quot; | &quot;toString&quot; | typeof Symbol.toPrimitive | typeof Symbol.toStringTag</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ­¤å¤– <code>keyof</code> ä¹Ÿç§°ä¸ºè¾“å…¥ç´¢å¼•ç±»å‹æŸ¥è¯¢ï¼Œä¸ä¹‹ç›¸å¯¹åº”çš„æ˜¯ç´¢å¼•è®¿é—®ç±»å‹ï¼Œä¹Ÿç§°ä¸ºæŸ¥æ‰¾ç±»å‹ã€‚åœ¨è¯­æ³•ä¸Šï¼Œå®ƒä»¬çœ‹èµ·æ¥åƒå±æ€§æˆ–å…ƒç´ è®¿é—®ï¼Œä½†æœ€ç»ˆä¼šè¢«è½¬æ¢ä¸ºç±»å‹ï¼š</p><div class="language-typescript line-numbers-mode" data-ext="ts" data-title="ts"><pre class="language-typescript"><code><span class="token keyword">interface</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
  age<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
  location<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">type</span> <span class="token class-name"><span class="token constant">P1</span></span> <span class="token operator">=</span> Person<span class="token punctuation">[</span><span class="token string">&quot;name&quot;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>  <span class="token comment">// string</span>
<span class="token keyword">type</span> <span class="token class-name"><span class="token constant">P2</span></span> <span class="token operator">=</span> Person<span class="token punctuation">[</span><span class="token string">&quot;name&quot;</span> <span class="token operator">|</span> <span class="token string">&quot;age&quot;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>  <span class="token comment">// string | number</span>
<span class="token keyword">type</span> <span class="token class-name"><span class="token constant">P3</span></span> <span class="token operator">=</span> <span class="token builtin">string</span><span class="token punctuation">[</span><span class="token string">&quot;charAt&quot;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>  <span class="token comment">// (pos: number) =&gt; string</span>
<span class="token keyword">type</span> <span class="token class-name"><span class="token constant">P4</span></span> <span class="token operator">=</span> <span class="token builtin">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">&quot;push&quot;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>  <span class="token comment">// (...items: string[]) =&gt; number</span>
<span class="token keyword">type</span> <span class="token class-name"><span class="token constant">P5</span></span> <span class="token operator">=</span> <span class="token builtin">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>  <span class="token comment">// string</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>keyof çš„ä½œç”¨</strong> JavaScript æ˜¯ä¸€ç§é«˜åº¦åŠ¨æ€çš„è¯­è¨€ã€‚æœ‰æ—¶åœ¨é™æ€ç±»å‹ç³»ç»Ÿä¸­æ•è·æŸäº›æ“ä½œçš„è¯­ä¹‰å¯èƒ½ä¼šå¾ˆæ£˜æ‰‹ã€‚ä»¥ä¸€ä¸ªç®€å•çš„ <code>prop</code> å‡½æ•°ä¸ºä¾‹ï¼š</p><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">prop</span><span class="token punctuation">(</span><span class="token parameter">obj<span class="token punctuation">,</span> key</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> obj<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¯¥å‡½æ•°æ¥æ”¶ obj å’Œ key ä¸¤ä¸ªå‚æ•°ï¼Œå¹¶è¿”å›å¯¹åº”å±æ€§çš„å€¼ã€‚å¯¹è±¡ä¸Šçš„ä¸åŒå±æ€§ï¼Œå¯ä»¥å…·æœ‰å®Œå…¨ä¸åŒçš„ç±»å‹ï¼Œæˆ‘ä»¬ç”šè‡³ä¸çŸ¥é“ obj å¯¹è±¡é•¿ä»€ä¹ˆæ ·ã€‚</p><p>é‚£ä¹ˆåœ¨ TypeScript ä¸­å¦‚ä½•å®šä¹‰ä¸Šé¢çš„ <code>prop</code> å‡½æ•°å‘¢ï¼Ÿæˆ‘ä»¬æ¥å°è¯•ä¸€ä¸‹ï¼š</p><div class="language-typescript line-numbers-mode" data-ext="ts" data-title="ts"><pre class="language-typescript"><code><span class="token keyword">function</span> <span class="token function">prop</span><span class="token punctuation">(</span>obj<span class="token operator">:</span> object<span class="token punctuation">,</span> key<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> obj<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>åœ¨ä¸Šé¢ä»£ç ä¸­ï¼Œä¸ºäº†é¿å…è°ƒç”¨ prop å‡½æ•°æ—¶ä¼ å…¥é”™è¯¯çš„å‚æ•°ç±»å‹ï¼Œæˆ‘ä»¬ä¸º obj å’Œ key å‚æ•°è®¾ç½®äº†ç±»å‹ï¼Œåˆ†åˆ«ä¸º <code>{}</code> å’Œ <code>string</code> ç±»å‹ã€‚ç„¶è€Œï¼Œäº‹æƒ…å¹¶æ²¡æœ‰é‚£ä¹ˆç®€å•ã€‚é’ˆå¯¹ä¸Šè¿°çš„ä»£ç ï¼ŒTypeScript ç¼–è¯‘å™¨ä¼šè¾“å‡ºä»¥ä¸‹é”™è¯¯ä¿¡æ¯ï¼š</p><div class="language-text line-numbers-mode" data-ext="text" data-title="text"><pre class="language-text"><code>Element implicitly has an &#39;any&#39; type because expression of type &#39;string&#39; can&#39;t be used to index type &#39;{}&#39;.
  No index signature with a parameter of type &#39;string&#39; was found on type &#39;{}&#39;.(7053)
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>å…ƒç´ éšå¼åœ°æ‹¥æœ‰ <code>any</code> ç±»å‹ï¼Œå› ä¸º <code>string</code> ç±»å‹ä¸èƒ½è¢«ç”¨äºç´¢å¼• {} ç±»å‹ã€‚è¦è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œä½ å¯ä»¥ä½¿ç”¨ä»¥ä¸‹éå¸¸æš´åŠ›çš„æ–¹æ¡ˆï¼š</p><div class="language-typescript line-numbers-mode" data-ext="ts" data-title="ts"><pre class="language-typescript"><code><span class="token keyword">function</span> <span class="token function">prop</span><span class="token punctuation">(</span>obj<span class="token operator">:</span> object<span class="token punctuation">,</span> key<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>obj <span class="token keyword">as</span> <span class="token builtin">any</span><span class="token punctuation">)</span><span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å¾ˆæ˜æ˜¾è¯¥æ–¹æ¡ˆå¹¶ä¸æ˜¯ä¸€ä¸ªå¥½çš„æ–¹æ¡ˆï¼Œæˆ‘ä»¬æ¥å›é¡¾ä¸€ä¸‹ <code>prop</code> å‡½æ•°çš„ä½œç”¨ï¼Œè¯¥å‡½æ•°ç”¨äºè·å–æŸä¸ªå¯¹è±¡ä¸­æŒ‡å®šå±æ€§çš„å±æ€§å€¼ã€‚å› æ­¤æˆ‘ä»¬æœŸæœ›ç”¨æˆ·è¾“å…¥çš„å±æ€§æ˜¯å¯¹è±¡ä¸Šå·²å­˜åœ¨çš„å±æ€§ï¼Œé‚£ä¹ˆå¦‚ä½•é™åˆ¶å±æ€§åçš„èŒƒå›´å‘¢ï¼Ÿè¿™æ—¶æˆ‘ä»¬å¯ä»¥åˆ©ç”¨æœ¬æ–‡çš„ä¸»è§’ <code>keyof</code> æ“ä½œç¬¦ï¼š</p><div class="language-typescript line-numbers-mode" data-ext="ts" data-title="ts"><pre class="language-typescript"><code><span class="token keyword">function</span> <span class="token generic-function"><span class="token function">prop</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token constant">T</span> <span class="token keyword">extends</span> object<span class="token punctuation">,</span> <span class="token constant">K</span> <span class="token keyword">extends</span> <span class="token keyword">keyof</span> <span class="token constant">T</span><span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span>obj<span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">,</span> key<span class="token operator">:</span> <span class="token constant">K</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> obj<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>åœ¨ä»¥ä¸Šä»£ç ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨äº† TypeScript çš„æ³›å‹å’Œæ³›å‹çº¦æŸã€‚<strong>é¦–å…ˆå®šä¹‰äº† T ç±»å‹å¹¶ä½¿ç”¨ <code>extends</code> å…³é”®å­—çº¦æŸè¯¥ç±»å‹å¿…é¡»æ˜¯ object ç±»å‹çš„å­ç±»å‹ï¼Œç„¶åä½¿ç”¨ <code>keyof</code> æ“ä½œç¬¦è·å– T ç±»å‹çš„æ‰€æœ‰é”®ï¼Œå…¶è¿”å›ç±»å‹æ˜¯è”åˆç±»å‹ï¼Œæœ€ååˆ©ç”¨ <code>extends</code> å…³é”®å­—çº¦æŸ K ç±»å‹å¿…é¡»ä¸º <code>keyof T</code> è”åˆç±»å‹çš„å­ç±»å‹ã€‚</strong></p><div class="language-typescript line-numbers-mode" data-ext="ts" data-title="ts"><pre class="language-typescript"><code><span class="token keyword">type</span> <span class="token class-name">Todo</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  id<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
  text<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
  done<span class="token operator">:</span> <span class="token builtin">boolean</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> todo<span class="token operator">:</span> Todo <span class="token operator">=</span> <span class="token punctuation">{</span>
  id<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
  text<span class="token operator">:</span> <span class="token string">&quot;Learn TypeScript keyof&quot;</span><span class="token punctuation">,</span>
  done<span class="token operator">:</span> <span class="token boolean">false</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token generic-function"><span class="token function">prop</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token constant">T</span> <span class="token keyword">extends</span> object<span class="token punctuation">,</span> <span class="token constant">K</span> <span class="token keyword">extends</span> <span class="token keyword">keyof</span> <span class="token constant">T</span><span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span>obj<span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">,</span> key<span class="token operator">:</span> <span class="token constant">K</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> obj<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> id <span class="token operator">=</span> <span class="token function">prop</span><span class="token punctuation">(</span>todo<span class="token punctuation">,</span> <span class="token string">&quot;id&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// const id: number</span>
<span class="token keyword">const</span> text <span class="token operator">=</span> <span class="token function">prop</span><span class="token punctuation">(</span>todo<span class="token punctuation">,</span> <span class="token string">&quot;text&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// const text: string</span>
<span class="token keyword">const</span> done <span class="token operator">=</span> <span class="token function">prop</span><span class="token punctuation">(</span>todo<span class="token punctuation">,</span> <span class="token string">&quot;done&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// const done: boolean</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å¾ˆæ˜æ˜¾ä½¿ç”¨æ³›å‹ï¼Œé‡æ–°å®šä¹‰åçš„ <code>prop&lt;T extends object, K extends keyof T&gt;(obj: T, key: K)</code> å‡½æ•°ï¼Œå·²ç»å¯ä»¥æ­£ç¡®åœ°æ¨å¯¼å‡ºæŒ‡å®šé”®å¯¹åº”çš„ç±»å‹ã€‚é‚£ä¹ˆå½“è®¿é—® todo å¯¹è±¡ä¸Šä¸å­˜åœ¨çš„å±æ€§æ—¶ï¼Œä¼šå‡ºç°ä»€ä¹ˆæƒ…å†µï¼Ÿæ¯”å¦‚ï¼š</p><div class="language-typescript line-numbers-mode" data-ext="ts" data-title="ts"><pre class="language-typescript"><code><span class="token comment">// Argument of type &#39;&quot;date&quot;&#39; is not assignable to parameter of type &#39;keyof Todo&#39;.(2345)</span>
<span class="token keyword">const</span> date <span class="token operator">=</span> <span class="token function">prop</span><span class="token punctuation">(</span>todo<span class="token punctuation">,</span> <span class="token string">&quot;date&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>keyof ä¸å¯¹è±¡çš„æ•°å€¼å±æ€§</strong></p><p>åœ¨ä½¿ç”¨å¯¹è±¡çš„æ•°å€¼å±æ€§æ—¶ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥ä½¿ç”¨ keyof å…³é”®å­—ã€‚<strong>è¯·è®°ä½ï¼Œå¦‚æœæˆ‘ä»¬å®šä¹‰ä¸€ä¸ªå¸¦æœ‰æ•°å€¼å±æ€§çš„å¯¹è±¡ï¼Œé‚£ä¹ˆæˆ‘ä»¬æ—¢éœ€è¦å®šä¹‰è¯¥å±æ€§ï¼Œåˆéœ€è¦ä½¿ç”¨æ•°ç»„è¯­æ³•è®¿é—®è¯¥å±æ€§ã€‚</strong> å¦‚ä¸‹æ‰€ç¤ºï¼š</p><div class="language-typescript line-numbers-mode" data-ext="ts" data-title="ts"><pre class="language-typescript"><code><span class="token keyword">class</span> <span class="token class-name">ClassWithNumericProperty</span> <span class="token punctuation">{</span>
  <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">:</span> <span class="token builtin">string</span> <span class="token operator">=</span> <span class="token string">&quot;Semlinker&quot;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> classWithNumeric <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ClassWithNumericProperty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>classWithNumeric<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> </span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä¸‹é¢æˆ‘ä»¬æ¥ä¸¾ä¸ªç¤ºä¾‹ï¼Œä»‹ç»ä¸€ä¸‹åœ¨å«æœ‰æ•°å€¼å±æ€§çš„å¯¹è±¡ä¸­ï¼Œå¦‚ä½•ä½¿ç”¨ keyof æ“ä½œç¬¦æ¥å®‰å…¨åœ°è®¿é—®å¯¹è±¡çš„å±æ€§ï¼š</p><div class="language-typescript line-numbers-mode" data-ext="ts" data-title="ts"><pre class="language-typescript"><code><span class="token keyword">enum</span> Currency <span class="token punctuation">{</span>
  <span class="token constant">CNY</span> <span class="token operator">=</span> <span class="token number">6</span><span class="token punctuation">,</span>
  <span class="token constant">EUR</span> <span class="token operator">=</span> <span class="token number">8</span><span class="token punctuation">,</span>
  <span class="token constant">USD</span> <span class="token operator">=</span> <span class="token number">10</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> CurrencyName <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token punctuation">[</span>Currency<span class="token punctuation">.</span><span class="token constant">CNY</span><span class="token punctuation">]</span><span class="token operator">:</span> <span class="token string">&quot;äººæ°‘å¸&quot;</span><span class="token punctuation">,</span>
  <span class="token punctuation">[</span>Currency<span class="token punctuation">.</span><span class="token constant">EUR</span><span class="token punctuation">]</span><span class="token operator">:</span> <span class="token string">&quot;æ¬§å…ƒ&quot;</span><span class="token punctuation">,</span>
  <span class="token punctuation">[</span>Currency<span class="token punctuation">.</span><span class="token constant">USD</span><span class="token punctuation">]</span><span class="token operator">:</span> <span class="token string">&quot;ç¾å…ƒ&quot;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">CurrencyName[Currency.CNY] = </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>CurrencyName<span class="token punctuation">[</span>Currency<span class="token punctuation">.</span><span class="token constant">CNY</span><span class="token punctuation">]</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// CurrencyName[Currency.CNY] = äººæ°‘å¸</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">CurrencyName[36] = </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>CurrencyName<span class="token punctuation">[</span><span class="token number">6</span><span class="token punctuation">]</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//CurrencyName[36] = äººæ°‘å¸</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä¸ºäº†æ–¹ä¾¿ç”¨æˆ·èƒ½æ ¹æ®è´§å¸ç±»å‹æ¥è·å–å¯¹åº”çš„è´§å¸åç§°ï¼Œæˆ‘ä»¬æ¥å®šä¹‰ä¸€ä¸ª getCurrencyName å‡½æ•°ï¼Œå…·ä½“å®ç°å¦‚ä¸‹ï¼š</p><div class="language-typescript line-numbers-mode" data-ext="ts" data-title="ts"><pre class="language-typescript"><code><span class="token keyword">function</span> <span class="token generic-function"><span class="token function">getCurrencyName</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token constant">K</span> <span class="token keyword">extends</span> <span class="token keyword">keyof</span> <span class="token constant">T</span><span class="token punctuation">,</span> <span class="token constant">T</span><span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span>key<span class="token operator">:</span> <span class="token constant">K</span><span class="token punctuation">,</span> map<span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">[</span><span class="token constant">K</span><span class="token punctuation">]</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> map<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">name = </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token function">getCurrencyName</span><span class="token punctuation">(</span>Currency<span class="token punctuation">.</span><span class="token constant">CNY</span><span class="token punctuation">,</span> CurrencyName<span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &quot;name = äººæ°‘å¸&quot; </span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>åŒæ ·ï¼ŒgetCurrencyName å‡½æ•°å’Œå‰é¢ä»‹ç»çš„ prop å‡½æ•°ä¸€æ ·ï¼Œä½¿ç”¨äº†æ³›å‹å’Œæ³›å‹çº¦æŸï¼Œä»è€Œæ¥ä¿è¯å±æ€§çš„å®‰å…¨è®¿é—®ã€‚</p><h3 id="in" tabindex="-1"><a class="header-anchor" href="#in"><span>in</span></a></h3><p><code>in</code> ç”¨æ¥éå†æšä¸¾ç±»å‹ï¼š</p><div class="language-typescript line-numbers-mode" data-ext="ts" data-title="ts"><pre class="language-typescript"><code><span class="token keyword">type</span> <span class="token class-name"><span class="token constant">U</span></span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
  age<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">type</span> <span class="token class-name"><span class="token constant">ABC</span></span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token punctuation">[</span><span class="token constant">P</span> <span class="token keyword">in</span> <span class="token keyword">keyof</span> <span class="token constant">U</span><span class="token punctuation">]</span><span class="token operator">:</span> <span class="token constant">U</span><span class="token punctuation">[</span><span class="token constant">P</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// type ABC = { name: string; age: number; }</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>ä»£ç è¯¦è§£</strong>ï¼š <code>[P in keyof U]</code>ï¼šè¿™æ®µä»£ç è¡¨ç¤ºéå†<code>U</code>ä¸­çš„æ¯ä¸€ä¸ªå±æ€§é”®ï¼Œæ¯æ¬¡éå†æ—¶å±æ€§é”®å–åä¸º<code>P</code>ã€‚</p><h3 id="extends" tabindex="-1"><a class="header-anchor" href="#extends"><span>extends</span></a></h3><p><code>extends</code>å…³é”®å­—åœ¨TSä¸­çš„ä¸¤ç§ç”¨æ³•ï¼Œå³æ¥å£ç»§æ‰¿å’Œæ¡ä»¶åˆ¤æ–­ã€‚</p><ol><li>æ¥å£ç»§æ‰¿</li></ol><div class="language-typescript line-numbers-mode" data-ext="ts" data-title="ts"><pre class="language-typescript"><code>   <span class="token keyword">interface</span> <span class="token class-name"><span class="token constant">T1</span></span> <span class="token punctuation">{</span>
    name<span class="token operator">:</span> <span class="token builtin">string</span>
  <span class="token punctuation">}</span>
  
  <span class="token keyword">interface</span> <span class="token class-name"><span class="token constant">T2</span></span> <span class="token punctuation">{</span>
    sex<span class="token operator">:</span> <span class="token builtin">number</span>
  <span class="token punctuation">}</span>
  
  <span class="token comment">// å¤šé‡ç»§æ‰¿ï¼Œé€—å·éš”å¼€</span>
  <span class="token keyword">interface</span> <span class="token class-name"><span class="token constant">T3</span></span> <span class="token keyword">extends</span> <span class="token class-name"><span class="token constant">T1</span></span><span class="token punctuation">,</span><span class="token constant">T2</span> <span class="token punctuation">{</span>
    age<span class="token operator">:</span> <span class="token builtin">number</span>
  <span class="token punctuation">}</span>
  
  <span class="token comment">// åˆæ³•</span>
  <span class="token keyword">const</span> t3<span class="token operator">:</span> <span class="token constant">T3</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
    name<span class="token operator">:</span> <span class="token string">&#39;xiaoming&#39;</span><span class="token punctuation">,</span>
    sex<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
    age<span class="token operator">:</span> <span class="token number">18</span>
  <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ç¤ºä¾‹ä¸­ï¼ŒT1å’ŒT2ä¸¤ä¸ªæ¥å£ï¼Œåˆ†åˆ«å®šä¹‰äº†nameå±æ€§å’Œsexå±æ€§ï¼ŒT3åˆ™ä½¿ç”¨extendsä½¿ç”¨å¤šé‡ç»§æ‰¿çš„æ–¹å¼ï¼Œç»§æ‰¿äº†T1å’ŒT2ï¼ŒåŒæ—¶å®šä¹‰äº†è‡ªå·±çš„å±æ€§ageï¼Œæ­¤æ—¶T3é™¤äº†è‡ªå·±çš„å±æ€§å¤–ï¼Œè¿˜åŒæ—¶æ‹¥æœ‰äº†æ¥è‡ªT1å’ŒT2çš„å±æ€§ã€‚</p><ol start="2"><li>æ¡ä»¶åˆ¤æ–­</li></ol><div class="language-typescript line-numbers-mode" data-ext="ts" data-title="ts"><pre class="language-typescript"><code><span class="token comment">// ç¤ºä¾‹1</span>
<span class="token keyword">interface</span> <span class="token class-name">Animal</span> <span class="token punctuation">{</span>
  <span class="token function">eat</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span>
<span class="token punctuation">}</span>

<span class="token keyword">interface</span> <span class="token class-name">Dog</span> <span class="token keyword">extends</span> <span class="token class-name">Animal</span> <span class="token punctuation">{</span>
  <span class="token function">bite</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span>
<span class="token punctuation">}</span>

<span class="token comment">// Açš„ç±»å‹ä¸ºstring</span>
<span class="token keyword">type</span> <span class="token class-name"><span class="token constant">A</span></span> <span class="token operator">=</span> Dog <span class="token keyword">extends</span> <span class="token class-name">Animal</span> <span class="token operator">?</span> <span class="token builtin">string</span> <span class="token operator">:</span> <span class="token builtin">number</span>

<span class="token keyword">const</span> a<span class="token operator">:</span> <span class="token constant">A</span> <span class="token operator">=</span> <span class="token string">&#39;this is string&#39;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>extends</code>ç”¨æ¥æ¡ä»¶åˆ¤æ–­çš„è¯­æ³•å’ŒJSçš„ä¸‰å…ƒè¡¨è¾¾æ˜¯å¾ˆç›¸ä¼¼ï¼Œå¦‚æœé—®å·å‰é¢çš„åˆ¤æ–­ä¸ºçœŸï¼Œåˆ™å°†ç¬¬ä¸€ä¸ªç±»å‹stringèµ‹å€¼ç»™Aï¼Œå¦åˆ™å°†ç¬¬äºŒä¸ªç±»å‹numberèµ‹å€¼ç»™Aã€‚</p><p>é‚£ä¹ˆï¼Œæ¥ä¸‹æ¥çš„é—®é¢˜å°±æ˜¯ï¼Œextendsåˆ¤æ–­æ¡ä»¶çœŸå‡çš„é€»è¾‘æ˜¯ä»€ä¹ˆï¼Ÿ</p><p>å¾ˆç®€å•ï¼Œ<strong>å¦‚æœextendså‰é¢çš„ç±»å‹èƒ½å¤Ÿèµ‹å€¼ç»™extendsåé¢çš„ç±»å‹ï¼Œé‚£ä¹ˆè¡¨è¾¾å¼åˆ¤æ–­ä¸ºçœŸï¼Œå¦åˆ™ä¸ºå‡ã€‚</strong></p><p>ä¸Šé¢çš„ç¤ºä¾‹ä¸­ï¼ŒDogæ˜¯Animalçš„å­ç±»ï¼Œçˆ¶ç±»æ¯”å­ç±»çš„é™åˆ¶æ›´å°‘ï¼Œèƒ½æ»¡è¶³å­ç±»ï¼Œåˆ™ä¸€å®šèƒ½æ»¡è¶³çˆ¶ç±»ï¼ŒDogç±»å‹çš„å€¼å¯ä»¥èµ‹å€¼ç»™Animalç±»å‹çš„å€¼ï¼Œåˆ¤æ–­ä¸ºçœŸã€‚</p><div class="language-typescript line-numbers-mode" data-ext="ts" data-title="ts"><pre class="language-typescript"><code><span class="token comment">// ç¤ºä¾‹2</span>
<span class="token keyword">interface</span> <span class="token class-name"><span class="token constant">A1</span></span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token builtin">string</span>
<span class="token punctuation">}</span>

<span class="token keyword">interface</span> <span class="token class-name"><span class="token constant">A2</span></span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token builtin">string</span>
  age<span class="token operator">:</span> <span class="token builtin">number</span>
<span class="token punctuation">}</span>

<span class="token comment">// Açš„ç±»å‹ä¸ºstring</span>
<span class="token keyword">type</span> <span class="token class-name"><span class="token constant">A</span></span> <span class="token operator">=</span> <span class="token constant">A2</span> <span class="token keyword">extends</span> <span class="token class-name"><span class="token constant">A1</span></span> <span class="token operator">?</span> <span class="token builtin">string</span> <span class="token operator">:</span> <span class="token builtin">number</span>

<span class="token keyword">const</span> a<span class="token operator">:</span> <span class="token constant">A</span> <span class="token operator">=</span> <span class="token string">&#39;this is string&#39;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>A1ï¼ŒA2ä¸¤ä¸ªæ¥å£ï¼Œæ»¡è¶³A2çš„æ¥å£ä¸€å®šå¯ä»¥æ»¡è¶³A1ï¼Œæ‰€ä»¥æ¡ä»¶ä¸ºçœŸï¼ŒAçš„ç±»å‹å–stringã€‚</p><p><strong>æ³›å‹ç”¨æ³•</strong></p><ul><li>åˆ†é…æ¡ä»¶ç±»å‹</li></ul><div class="language-typescript line-numbers-mode" data-ext="ts" data-title="ts"><pre class="language-typescript"><code><span class="token keyword">type</span> <span class="token class-name"><span class="token constant">A1</span></span> <span class="token operator">=</span> <span class="token string">&#39;x&#39;</span> <span class="token keyword">extends</span> <span class="token string">&#39;x&#39;</span> <span class="token operator">?</span> <span class="token builtin">string</span> <span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span> <span class="token comment">// string</span>
<span class="token keyword">type</span> <span class="token class-name"><span class="token constant">A2</span></span> <span class="token operator">=</span> <span class="token string">&#39;x&#39;</span> <span class="token operator">|</span> <span class="token string">&#39;y&#39;</span> <span class="token keyword">extends</span> <span class="token string">&#39;x&#39;</span> <span class="token operator">?</span> <span class="token builtin">string</span> <span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span> <span class="token comment">// number</span>

<span class="token keyword">type</span> <span class="token class-name"><span class="token constant">P</span><span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span></span> <span class="token operator">=</span> <span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token string">&#39;x&#39;</span> <span class="token operator">?</span> <span class="token builtin">string</span> <span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
<span class="token keyword">type</span> <span class="token class-name"><span class="token constant">A3</span></span> <span class="token operator">=</span> <span class="token constant">P</span><span class="token operator">&lt;</span><span class="token string">&#39;x&#39;</span> <span class="token operator">|</span> <span class="token string">&#39;y&#39;</span><span class="token operator">&gt;</span> <span class="token comment">// string | number</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>A1å’ŒA2æ˜¯<code>extends</code>æ¡ä»¶åˆ¤æ–­çš„æ™®é€šç”¨æ³•ï¼Œå’Œä¸Šé¢çš„åˆ¤æ–­æ–¹æ³•ä¸€æ ·ã€‚</p><p>Pæ˜¯å¸¦å‚æ•°Tçš„æ³›å‹ç±»å‹ï¼Œå…¶è¡¨è¾¾å¼å’ŒA1ï¼ŒA2çš„å½¢å¼å®Œå…¨ç›¸åŒï¼ŒA3æ˜¯æ³›å‹ç±»å‹Pä¼ å…¥å‚æ•°<code>&#39;x&#39; | &#39;y&#39;</code>å¾—åˆ°çš„ç±»å‹ï¼Œå¦‚æœå°†<code>&#39;x&#39; | &#39;y&#39;</code>å¸¦å…¥æ³›å‹ç±»çš„è¡¨è¾¾å¼ï¼Œå¯ä»¥çœ‹åˆ°å’ŒA2ç±»å‹çš„å½¢å¼æ˜¯å®Œå…¨ä¸€æ ·çš„ï¼Œé‚£æ˜¯ä¸æ˜¯è¯´æ˜ï¼ŒA3å’ŒA2çš„ç±»å‹å°±æ˜¯å®Œå…¨ä¸€æ ·çš„å‘¢ï¼Ÿ</p><div class="custom-container tip"><p class="custom-container-title">TIP</p><p>å¯¹äºä½¿ç”¨extendså…³é”®å­—çš„æ¡ä»¶ç±»å‹ï¼ˆå³ä¸Šé¢çš„ä¸‰å…ƒè¡¨è¾¾å¼ç±»å‹ï¼‰ï¼Œå¦‚æœextendså‰é¢çš„å‚æ•°æ˜¯ä¸€ä¸ªæ³›å‹ç±»å‹ï¼Œå½“ä¼ å…¥è¯¥å‚æ•°çš„æ˜¯è”åˆç±»å‹ï¼Œåˆ™ä½¿ç”¨åˆ†é…å¾‹è®¡ç®—æœ€ç»ˆçš„ç»“æœã€‚åˆ†é…å¾‹æ˜¯æŒ‡ï¼Œå°†è”åˆç±»å‹çš„è”åˆé¡¹æ‹†æˆå•é¡¹ï¼Œåˆ†åˆ«ä»£å…¥æ¡ä»¶ç±»å‹ï¼Œç„¶åå°†æ¯ä¸ªå•é¡¹ä»£å…¥å¾—åˆ°çš„ç»“æœå†è”åˆèµ·æ¥ï¼Œå¾—åˆ°æœ€ç»ˆçš„åˆ¤æ–­ç»“æœã€‚</p></div><p>è¯¥ä¾‹ä¸­ï¼Œextendsçš„å‰å‚ä¸ºTï¼ŒTæ˜¯ä¸€ä¸ªæ³›å‹å‚æ•°ã€‚åœ¨A3çš„å®šä¹‰ä¸­ï¼Œç»™Tä¼ å…¥çš„æ˜¯&#39;x&#39;å’Œ&#39;y&#39;çš„è”åˆç±»å‹<code>&#39;x&#39; | &#39;y&#39;</code>ï¼Œæ»¡è¶³åˆ†é…å¾‹ï¼Œäºæ˜¯&#39;x&#39;å’Œ&#39;y&#39;è¢«æ‹†å¼€ï¼Œåˆ†åˆ«ä»£å…¥<code>P&lt;T&gt;</code></p><p><code>P&lt;&#39;x&#39; | &#39;y&#39;&gt; =&gt; P&lt;&#39;x&#39;&gt; | P&lt;&#39;y&#39;&gt;</code></p><p>&#39;x&#39;ä»£å…¥å¾—åˆ°</p><p><code>&#39;x&#39; extends &#39;x&#39; ? string : number =&gt; string</code></p><p>&#39;y&#39;ä»£å…¥å¾—åˆ°</p><p><code>&#39;y&#39; extends &#39;x&#39; ? string : number =&gt; number</code></p><p>ç„¶åå°†æ¯ä¸€é¡¹ä»£å…¥å¾—åˆ°çš„ç»“æœè”åˆèµ·æ¥ï¼Œ<code>å¾—åˆ°string | number</code></p><p>æ€»ä¹‹ï¼Œæ»¡è¶³ä¸¤ä¸ªè¦ç‚¹å³å¯é€‚ç”¨åˆ†é…å¾‹ï¼šç¬¬ä¸€ï¼Œå‚æ•°æ˜¯æ³›å‹ç±»å‹ï¼Œç¬¬äºŒï¼Œä»£å…¥å‚æ•°çš„æ˜¯è”åˆç±»å‹ã€‚</p><ul><li>ç‰¹æ®Šçš„never</li><li>é˜²æ­¢æ¡ä»¶åˆ¤æ–­ä¸­çš„åˆ†é…</li></ul><h3 id="infer" tabindex="-1"><a class="header-anchor" href="#infer"><span>Infer</span></a></h3><p>å…³é”®å­—ç”¨äºæ¡ä»¶ä¸­çš„ç±»å‹æ¨å¯¼</p><div class="language-typescript line-numbers-mode" data-ext="ts" data-title="ts"><pre class="language-typescript"><code><span class="token keyword">type</span> <span class="token class-name">ReturnType<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span></span> <span class="token operator">=</span> <span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token punctuation">(</span><span class="token operator">...</span>args<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">infer</span> <span class="token constant">R</span> <span class="token operator">?</span> <span class="token constant">R</span> <span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>ç†è§£ä¸ºï¼šå¦‚æœ T ç»§æ‰¿äº† extends (...args: any[]) =&gt; any ç±»å‹ï¼Œåˆ™è¿”å›ç±»å‹ Rï¼Œå¦åˆ™è¿”å› anyã€‚å…¶ä¸­ R æ˜¯ä»€ä¹ˆå‘¢ï¼ŸR è¢«å®šä¹‰åœ¨ extends (...args: any[]) =&gt; infer R ä¸­ï¼Œå³ R æ˜¯ä»ä¼ å…¥å‚æ•°ç±»å‹ä¸­æ¨å¯¼å‡ºæ¥çš„ã€‚</p><p>æ —å­ï¼š</p><div class="language-typescript line-numbers-mode" data-ext="ts" data-title="ts"><pre class="language-typescript"><code><span class="token keyword">type</span> <span class="token class-name">ArrayElementType<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span></span> <span class="token operator">=</span> <span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token punctuation">(</span><span class="token keyword">infer</span> <span class="token constant">E</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">?</span> <span class="token constant">E</span> <span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">;</span>
<span class="token comment">// type of item1 is `number`</span>
<span class="token keyword">type</span> <span class="token class-name">item1</span> <span class="token operator">=</span> ArrayElementType<span class="token operator">&lt;</span><span class="token builtin">number</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">&gt;</span><span class="token punctuation">;</span>
<span class="token comment">// type of item2 is `{name: string}`</span>
<span class="token keyword">type</span> <span class="token class-name">item2</span> <span class="token operator">=</span> ArrayElementType<span class="token operator">&lt;</span><span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token punctuation">}</span><span class="token operator">&gt;</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>item1æ˜¯æ»¡è¶³ç»“æ„çš„ï¼Œæ‰€ä»¥æ¡ä»¶ç±»å‹ä¸­çš„æ¡ä»¶ä¸ºtrueï¼Œå› ä¸º <code>numer[]</code> åŒ¹é… <code>(infer E)[]</code>ï¼Œæ‰€ä»¥è¿”å›çš„ç±»å‹æ˜¯ <code>E</code> å³ä¸º <code>number</code> ç±»å‹ã€‚</p><p>item2ä¸æ»¡è¶³ç»“æ„çš„ï¼Œæ‰€ä»¥æ¡ä»¶ç±»å‹çš„æ¡ä»¶ä¸ºfalseï¼Œå› ä¸º <code>{name: string}</code> ä¸åŒ¹é… <code>(infer E)[]</code>ï¼Œæ‰€ä»¥è¿”å›çš„ç±»å‹æ˜¯ <code>T</code> å³ä¸º <code>{name: string}</code>ã€‚</p><div class="language-typescript line-numbers-mode" data-ext="ts" data-title="ts"><pre class="language-typescript"><code><span class="token keyword">type</span> <span class="token class-name">item3</span> <span class="token operator">=</span> ArrayElementType<span class="token operator">&lt;</span><span class="token punctuation">[</span><span class="token builtin">number</span><span class="token punctuation">,</span> <span class="token builtin">string</span><span class="token punctuation">]</span><span class="token operator">&gt;</span><span class="token punctuation">;</span> <span class="token comment">// number | string</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>æˆ‘ä»¬ç”¨å¤šä¸ª <code>infer Eï¼ˆ(infer E)[]</code> ç›¸å½“äº <code>[infer E, infer E]...</code> ä¸å°±æ˜¯å¤šä¸ªå˜é‡æŒ‡å‘åŒä¸€ä¸ªç±»å‹ä»£è¯ E å˜›ï¼‰åŒæ—¶æ¥æ”¶åˆ°äº† <code>number å’Œ string</code>ï¼Œæ‰€ä»¥å¯ä»¥ç†è§£ä¸º <code>E</code> æ—¶è€Œä¸º <code>number</code> æ—¶è€Œä¸º <code>string</code>ï¼Œæ‰€ä»¥æ˜¯æˆ–å…³ç³»ï¼Œè¿™å°±æ˜¯åå˜ã€‚</p><p>é‚£å¦‚æœæ˜¯å‡½æ•°å‚æ•°å‘¢ï¼Ÿ</p><div class="language-typescript line-numbers-mode" data-ext="ts" data-title="ts"><pre class="language-typescript"><code><span class="token keyword">type</span> <span class="token class-name">Bar<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span></span> <span class="token operator">=</span> <span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token punctuation">{</span> <span class="token function-variable function">a</span><span class="token operator">:</span> <span class="token punctuation">(</span>x<span class="token operator">:</span> <span class="token keyword">infer</span> <span class="token constant">U</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">void</span><span class="token punctuation">;</span> <span class="token function-variable function">b</span><span class="token operator">:</span> <span class="token punctuation">(</span>x<span class="token operator">:</span> <span class="token keyword">infer</span> <span class="token constant">U</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">void</span> <span class="token punctuation">}</span>
  <span class="token operator">?</span> <span class="token constant">U</span> <span class="token operator">:</span> <span class="token builtin">never</span>
<span class="token keyword">type</span> <span class="token class-name"><span class="token constant">T21</span></span> <span class="token operator">=</span> Bar<span class="token operator">&lt;</span><span class="token punctuation">{</span> <span class="token function-variable function">a</span><span class="token operator">:</span> <span class="token punctuation">(</span>x<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">void</span><span class="token punctuation">;</span> <span class="token function-variable function">b</span><span class="token operator">:</span> <span class="token punctuation">(</span>x<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">void</span> <span class="token punctuation">}</span><span class="token operator">&gt;</span><span class="token punctuation">;</span> <span class="token comment">// string &amp; number</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å‘ç°ç»“æœæ˜¯ <code>string &amp; number</code>ï¼Œä¹Ÿå°±æ˜¯é€†å˜ã€‚ä½†è¿™ä¸ªä¾‹å­ä¹Ÿæ˜¯åŒä¸€ä¸ª <code>U</code> æ—¶è€Œä¸º <code>string</code> æ—¶è€Œä¸º <code>number</code> å‘€ï¼Œä¸ºä»€ä¹ˆæ˜¯ä¸”çš„å…³ç³»ï¼Œè€Œä¸æ˜¯æˆ–å‘¢ï¼Ÿ</p><p>å…¶å®åå˜æˆ–é€†å˜ä¸ <code>infer</code> å‚æ•°ä½ç½®æœ‰å…³ã€‚åœ¨ TypeScript ä¸­ï¼Œ<strong>å¯¹è±¡ã€ç±»ã€æ•°ç»„å’Œå‡½æ•°çš„è¿”å›å€¼ç±»å‹éƒ½æ˜¯åå˜å…³ç³»ï¼Œè€Œå‡½æ•°çš„å‚æ•°ç±»å‹æ˜¯é€†å˜å…³ç³»</strong>ï¼Œæ‰€ä»¥ <code>infer</code> ä½ç½®å¦‚æœåœ¨å‡½æ•°å‚æ•°ä¸Šï¼Œå°±ä¼šéµå¾ªé€†å˜åŸåˆ™ã€‚</p><p><strong>é€†å˜ä¸åå˜ï¼š</strong></p><ul><li>åå˜(co-variant)ï¼šç±»å‹æ”¶æ•›ã€‚</li><li>é€†å˜(contra-variant)ï¼šç±»å‹å‘æ•£ã€‚</li></ul><h2 id="ç´¢å¼•ç±»å‹" tabindex="-1"><a class="header-anchor" href="#ç´¢å¼•ç±»å‹"><span>ç´¢å¼•ç±»å‹</span></a></h2><p>åœ¨å®é™…å¼€å‘ä¸­ï¼Œæˆ‘ä»¬ç»å¸¸èƒ½é‡åˆ°è¿™æ ·çš„åœºæ™¯ï¼Œåœ¨å¯¹è±¡ä¸­è·å–ä¸€äº›å±æ€§çš„å€¼ï¼Œç„¶åå»ºç«‹å¯¹åº”çš„é›†åˆã€‚</p><div class="language-typescript line-numbers-mode" data-ext="ts" data-title="ts"><pre class="language-typescript"><code><span class="token keyword">const</span> person <span class="token operator">=</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">&#39;Christine&#39;</span><span class="token punctuation">,</span>
  age<span class="token operator">:</span> <span class="token number">18</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">getValues</span><span class="token punctuation">(</span>person<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">,</span> keys<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> keys<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>key <span class="token operator">=&gt;</span> person<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">getValues</span><span class="token punctuation">(</span>person<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">&#39;name&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;age&#39;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// [&#39;Christine&#39;, 18]</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">getValues</span><span class="token punctuation">(</span>person<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">&#39;gender&#39;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// [undefined]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>åœ¨ä¸Šè¿°ä¾‹å­ä¸­ï¼Œå¯ä»¥çœ‹åˆ°getValues(persion, [&#39;gender&#39;])æ‰“å°å‡ºæ¥çš„æ˜¯[undefined]ï¼Œä½†æ˜¯tsç¼–è¯‘å™¨å¹¶æ²¡æœ‰ç»™å‡ºæŠ¥é”™ä¿¡æ¯ï¼Œé‚£ä¹ˆå¦‚ä½•ä½¿ç”¨tså¯¹è¿™ç§æ¨¡å¼è¿›è¡Œç±»å‹çº¦æŸå‘¢ï¼Ÿè¿™é‡Œå°±è¦ç”¨åˆ°äº†ç´¢å¼•ç±»å‹,æ”¹é€ ä¸€ä¸‹getValueså‡½æ•°ï¼Œé€šè¿‡ <code>ã€Œç´¢å¼•ç±»å‹æŸ¥è¯¢ã€</code>å’Œ <code>ã€Œç´¢å¼•è®¿é—®ã€</code> æ“ä½œç¬¦ï¼š</p><div class="language-typescript line-numbers-mode" data-ext="ts" data-title="ts"><pre class="language-typescript"><code><span class="token keyword">function</span> <span class="token generic-function"><span class="token function">getValues</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token constant">T</span><span class="token punctuation">,</span> <span class="token constant">K</span> <span class="token keyword">extends</span> <span class="token keyword">keyof</span> <span class="token constant">T</span><span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span>person<span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">,</span> keys<span class="token operator">:</span> <span class="token constant">K</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">[</span><span class="token constant">K</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> keys<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>key <span class="token operator">=&gt;</span> person<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">interface</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
  age<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> person<span class="token operator">:</span> Person <span class="token operator">=</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">&#39;Christine&#39;</span><span class="token punctuation">,</span>
  age<span class="token operator">:</span> <span class="token number">18</span>
<span class="token punctuation">}</span>

<span class="token function">getValues</span><span class="token punctuation">(</span>person<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">&#39;name&#39;</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment">// [&#39;Christine&#39;]</span>
<span class="token function">getValues</span><span class="token punctuation">(</span>person<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">&#39;gender&#39;</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment">// æŠ¥é”™ï¼š</span>
<span class="token comment">// Argument of Type &#39;&quot;gender&quot;[]&#39; is not assignable to parameter of type &#39;(&quot;name&quot; | &quot;age&quot;)[]&#39;.</span>
<span class="token comment">// Type &quot;gender&quot; is not assignable to type &quot;name&quot; | &quot;age&quot;.</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ç¼–è¯‘å™¨ä¼šæ£€æŸ¥ä¼ å…¥çš„å€¼æ˜¯å¦æ˜¯Personçš„ä¸€éƒ¨åˆ†ã€‚é€šè¿‡ä¸‹é¢çš„æ¦‚å¿µæ¥ç†è§£ä¸Šé¢çš„ä»£ç ï¼š</p><div class="language-typescript line-numbers-mode" data-ext="ts" data-title="ts"><pre class="language-typescript"><code><span class="token constant">T</span><span class="token punctuation">[</span><span class="token constant">K</span><span class="token punctuation">]</span>è¡¨ç¤ºå¯¹è±¡<span class="token constant">T</span>çš„å±æ€§<span class="token constant">K</span>æ‰€è¡¨ç¤ºçš„ç±»å‹ï¼Œåœ¨ä¸Šè¿°ä¾‹å­ä¸­ï¼Œ<span class="token constant">T</span><span class="token punctuation">[</span><span class="token constant">K</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span> è¡¨ç¤ºå˜é‡<span class="token constant">T</span>å–å±æ€§<span class="token constant">K</span>çš„å€¼çš„æ•°ç»„

<span class="token comment">// é€šè¿‡[]ç´¢å¼•ç±»å‹è®¿é—®æ“ä½œç¬¦, æˆ‘ä»¬å°±èƒ½å¾—åˆ°æŸä¸ªç´¢å¼•çš„ç±»å‹</span>
<span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
    name<span class="token operator">:</span><span class="token builtin">string</span><span class="token punctuation">;</span>
    age<span class="token operator">:</span><span class="token builtin">number</span><span class="token punctuation">;</span>
 <span class="token punctuation">}</span>
 <span class="token keyword">type</span> <span class="token class-name">MyType</span> <span class="token operator">=</span> Person<span class="token punctuation">[</span><span class="token string">&#39;name&#39;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>  <span class="token comment">//Personä¸­nameçš„ç±»å‹ä¸ºstring type MyType = string</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>é¦–å…ˆçœ‹æ³›å‹ï¼Œè¿™é‡Œæœ‰Tå’ŒKä¸¤ç§ç±»å‹ï¼Œæ ¹æ®ç±»å‹æ¨æ–­ï¼Œç¬¬ä¸€ä¸ªå‚æ•°personå°±æ˜¯personï¼Œç±»å‹ä¼šè¢«æ¨æ–­ä¸ºPersonã€‚è€Œç¬¬äºŒä¸ªæ•°ç»„å‚æ•°çš„ç±»å‹æ¨æ–­ï¼ˆK extends keyof Tï¼‰ï¼Œkeyofå…³é”®å­—å¯ä»¥è·å–Tï¼Œä¹Ÿå°±æ˜¯Personçš„æ‰€æœ‰å±æ€§åï¼Œå³[&#39;name&#39;, &#39;age&#39;]ã€‚è€Œextendså…³é”®å­—è®©æ³›å‹Kç»§æ‰¿äº†Personçš„æ‰€æœ‰å±æ€§åï¼Œå³[&#39;name&#39;, &#39;age&#39;]ã€‚</p><h2 id="æ˜ å°„ç±»å‹" tabindex="-1"><a class="header-anchor" href="#æ˜ å°„ç±»å‹"><span>æ˜ å°„ç±»å‹</span></a></h2><blockquote><p>æ ¹æ®æ—§çš„ç±»å‹åˆ›å»ºå‡ºæ–°çš„ç±»å‹, æˆ‘ä»¬ç§°ä¹‹ä¸ºæ˜ å°„ç±»å‹</p></blockquote><div class="language-typescript line-numbers-mode" data-ext="ts" data-title="ts"><pre class="language-typescript"><code><span class="token keyword">interface</span> <span class="token class-name">TestInterface</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span><span class="token builtin">string</span><span class="token punctuation">,</span>
  age<span class="token operator">:</span><span class="token builtin">number</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å‡è®¾éœ€è¦æŠŠä¸Šé¢å®šä¹‰çš„æ¥å£é‡Œé¢çš„å±æ€§å…¨éƒ¨å˜æˆå¯é€‰ï¼Œè¯¥æ€ä¹ˆå®ç°å‘¢ï¼Ÿ</p><p>ç­”æ¡ˆå¦‚ä¸‹ï¼š</p><div class="language-typescript line-numbers-mode" data-ext="ts" data-title="ts"><pre class="language-typescript"><code><span class="token comment">// æˆ‘ä»¬å¯ä»¥é€šè¿‡+/-æ¥æŒ‡å®šæ·»åŠ è¿˜æ˜¯åˆ é™¤</span>

<span class="token keyword">type</span> <span class="token class-name">OptionalTestInterface<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span></span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token punctuation">[</span>p <span class="token keyword">in</span> <span class="token keyword">keyof</span> <span class="token constant">T</span><span class="token punctuation">]</span><span class="token operator">+</span><span class="token operator">?</span><span class="token operator">:</span><span class="token constant">T</span><span class="token punctuation">[</span>p<span class="token punctuation">]</span>
<span class="token punctuation">}</span>

æ–¹æ³•ä¸€ï¼š
<span class="token keyword">type</span> <span class="token class-name">newTestInterface</span> <span class="token operator">=</span> OptionalTestInterface<span class="token operator">&lt;</span>TestInterface<span class="token operator">&gt;</span>

æ–¹æ³•äºŒï¼š
<span class="token keyword">type</span> <span class="token class-name">newTestInterface</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  name<span class="token operator">?</span><span class="token operator">:</span><span class="token builtin">string</span><span class="token punctuation">,</span>
  age<span class="token operator">?</span><span class="token operator">:</span><span class="token builtin">number</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å¦‚æœæˆ‘ä»¬è¿˜æƒ³å†åŠ ä¸Šåªè¯»å±æ€§å‘¢ï¼Ÿ</p><div class="language-typescript line-numbers-mode" data-ext="ts" data-title="ts"><pre class="language-typescript"><code><span class="token keyword">type</span> <span class="token class-name">OptionalTestInterface<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span></span> <span class="token operator">=</span> <span class="token punctuation">{</span>
 <span class="token operator">+</span><span class="token keyword">readonly</span> <span class="token punctuation">[</span>p <span class="token keyword">in</span> <span class="token keyword">keyof</span> <span class="token constant">T</span><span class="token punctuation">]</span><span class="token operator">+</span><span class="token operator">?</span><span class="token operator">:</span><span class="token constant">T</span><span class="token punctuation">[</span>p<span class="token punctuation">]</span>
<span class="token punctuation">}</span>

<span class="token keyword">type</span> <span class="token class-name">newTestInterface</span> <span class="token operator">=</span> OptionalTestInterface<span class="token operator">&lt;</span>TestInterface<span class="token operator">&gt;</span>

<span class="token keyword">type</span> <span class="token class-name">newTestInterface</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token keyword">readonly</span> name<span class="token operator">?</span><span class="token operator">:</span><span class="token builtin">string</span><span class="token punctuation">,</span>
  <span class="token keyword">readonly</span> age<span class="token operator">?</span><span class="token operator">:</span><span class="token builtin">number</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><!--[--><!--]--></div><footer class="vp-page-meta"><div class="vp-meta-item edit-link"><a class="external-link label" href="https://github.com/Christine-Only/blog/edit/master/docs/typescript/advance.md" rel="noopener noreferrer" target="_blank" aria-label="Edit this page"><!--[--><!--[--><svg class="icon" viewBox="0 0 1024 1024"><g fill="currentColor"><path d="M430.818 653.65a60.46 60.46 0 0 1-50.96-93.281l71.69-114.012 7.773-10.365L816.038 80.138A60.46 60.46 0 0 1 859.225 62a60.46 60.46 0 0 1 43.186 18.138l43.186 43.186a60.46 60.46 0 0 1 0 86.373L588.879 565.55l-8.637 8.637-117.466 68.234a60.46 60.46 0 0 1-31.958 11.229z"></path><path d="M728.802 962H252.891A190.883 190.883 0 0 1 62.008 771.98V296.934a190.883 190.883 0 0 1 190.883-192.61h267.754a60.46 60.46 0 0 1 0 120.92H252.891a69.962 69.962 0 0 0-69.098 69.099V771.98a69.962 69.962 0 0 0 69.098 69.098h475.911A69.962 69.962 0 0 0 797.9 771.98V503.363a60.46 60.46 0 1 1 120.922 0V771.98A190.883 190.883 0 0 1 728.802 962z"></path></g></svg><!--]--> Edit this page <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--><!--]--></a></div><div class="vp-meta-item git-info"><!----><!----></div></footer><nav class="vp-page-nav" aria-label="page navigation"><a class="route-link route-link-active prev" href="/blog/typescript/" aria-label="åŸºç¡€"><!--[--><div class="hint"><span class="arrow left"></span> Prev</div><div class="link"><span>åŸºç¡€</span></div><!--]--></a><a class="route-link next" href="/blog/typescript/challengeBuildIn.html" aria-label="å†…ç½®å·¥å…·ç±»å‹"><!--[--><div class="hint">Next <span class="arrow right"></span></div><div class="link"><span>å†…ç½®å·¥å…·ç±»å‹</span></div><!--]--></a></nav><!--[--><!--]--></main><!--]--></div><!--[--><!----><!--]--><!--]--></div>
    <script type="module" src="/blog/assets/app-C8Xn24jF.js" defer></script>
  </body>
</html>
