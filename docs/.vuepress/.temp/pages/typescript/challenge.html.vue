<template><div><h1 id="è‡ªå®šä¹‰å·¥å…·ç±»å‹" tabindex="-1"><a class="header-anchor" href="#è‡ªå®šä¹‰å·¥å…·ç±»å‹"><span>è‡ªå®šä¹‰å·¥å…·ç±»å‹</span></a></h1>
<h2 id="first" tabindex="-1"><a class="header-anchor" href="#first"><span>First</span></a></h2>
<blockquote>
<p><code v-pre>First</code>è¡¨ç¤ºç”¨æ¥è¿”å›æ•°ç»„çš„ç¬¬ä¸€ä¸ªå…ƒç´ ã€‚</p>
</blockquote>
<p>ç”¨æ³•ï¼š</p>
<div class="language-typescript line-numbers-mode" data-ext="ts" data-title="ts"><pre v-pre class="language-typescript"><code><span class="token keyword">type</span> <span class="token class-name">arr1</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token string">'b'</span><span class="token punctuation">,</span> <span class="token string">'c'</span><span class="token punctuation">]</span>
<span class="token keyword">type</span> <span class="token class-name">arr2</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span>

<span class="token keyword">type</span> <span class="token class-name">one</span> <span class="token operator">=</span> First<span class="token operator">&lt;</span>arr1<span class="token operator">></span> <span class="token comment">// 'a'</span>
<span class="token keyword">type</span> <span class="token class-name">two</span> <span class="token operator">=</span> First<span class="token operator">&lt;</span>arr2<span class="token operator">></span> <span class="token comment">// 3</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä»£ç å®ç°ï¼š</p>
<div class="language-typescript line-numbers-mode" data-ext="ts" data-title="ts"><pre v-pre class="language-typescript"><code>ç´¢å¼•å®ç°
<span class="token keyword">type</span> <span class="token class-name">First<span class="token operator">&lt;</span><span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token builtin">any</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">></span></span> <span class="token operator">=</span> <span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">?</span> <span class="token builtin">never</span> <span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>
or
å ä½å®ç°
<span class="token keyword">type</span> <span class="token class-name">First<span class="token operator">&lt;</span><span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token builtin">any</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">></span></span> <span class="token operator">=</span> <span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token punctuation">[</span><span class="token keyword">infer</span> Head<span class="token punctuation">,</span> <span class="token operator">...</span>rest<span class="token punctuation">]</span> <span class="token operator">?</span> Head <span class="token operator">:</span> <span class="token builtin">never</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä»£ç è¯¦è§£ï¼š</p>
<ul>
<li><code v-pre>T extends []</code>ï¼šç”¨äºåˆ¤æ–­ <code v-pre>T</code> æ˜¯å¦æ˜¯ç©ºæ•°ç»„</li>
<li><code v-pre>T[0]</code>ï¼šç”¨äºå–æ•°ç»„çš„ç¬¬ä¸€é¡¹</li>
<li><code v-pre>infer Head</code>ï¼šè¡¨ç¤ºæ•°ç»„ç¬¬ä¸€ä¸ªå…ƒç´ çš„å ä½</li>
<li><code v-pre>...rest</code>ï¼šè¡¨ç¤ºæ•°ç»„çš„å‰©ä½™å…ƒç´ </li>
</ul>
<h2 id="mutable" tabindex="-1"><a class="header-anchor" href="#mutable"><span>Mutable</span></a></h2>
<blockquote>
<p><code v-pre>Mutable&lt;T&gt;</code>è¡¨ç¤ºå°†æŸä¸ªç±»å‹ä¸­çš„æ‰€æœ‰å±æ€§çš„readonlyç§»é™¤ã€‚</p>
</blockquote>
<p>ç”¨æ³•ï¼š</p>
<div class="language-typescript line-numbers-mode" data-ext="ts" data-title="ts"><pre v-pre class="language-typescript"><code><span class="token keyword">type</span> <span class="token class-name">UserInfo</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token keyword">readonly</span> name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span>
  <span class="token keyword">readonly</span> age<span class="token operator">:</span> <span class="token builtin">number</span>
<span class="token punctuation">}</span>
<span class="token comment">// {name: string, age: number}</span>
<span class="token keyword">type</span> <span class="token class-name"><span class="token constant">D</span></span> <span class="token operator">=</span> Mutable<span class="token operator">&lt;</span>UserInfo<span class="token operator">></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä»£ç å®ç°ï¼š</p>
<div class="language-typescript line-numbers-mode" data-ext="ts" data-title="ts"><pre v-pre class="language-typescript"><code><span class="token keyword">type</span> <span class="token class-name">Mutable<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">></span></span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token operator">-</span><span class="token keyword">readonly</span> <span class="token punctuation">[</span><span class="token constant">P</span> <span class="token keyword">in</span> <span class="token keyword">keyof</span> <span class="token constant">T</span><span class="token punctuation">]</span><span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">[</span><span class="token constant">P</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä»£ç è¯¦è§£ï¼š</p>
<ul>
<li><code v-pre>-readonly</code>ï¼šè¡¨ç¤ºæŠŠ<code v-pre>readonly</code>å…³é”®å­—å»æ‰</li>
</ul>
<h2 id="length" tabindex="-1"><a class="header-anchor" href="#length"><span>Length</span></a></h2>
<blockquote>
<p><code v-pre>Length&lt;T&gt;</code>è¡¨ç¤ºç”¨æ¥è·å–ä¸€ä¸ªæ•°ç»„æˆ–è€…ç±»æ•°ç»„çš„é•¿åº¦ã€‚</p>
</blockquote>
<p>ç”¨æ³•ï¼š</p>
<div class="language-typescript line-numbers-mode" data-ext="ts" data-title="ts"><pre v-pre class="language-typescript"><code><span class="token keyword">type</span> <span class="token class-name">tesla</span> <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token number">3</span><span class="token operator">:</span> <span class="token string">'3'</span><span class="token punctuation">,</span> length<span class="token operator">:</span> <span class="token number">4</span> <span class="token punctuation">}</span>
<span class="token keyword">type</span> <span class="token class-name">spaceX</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'FALCON 9'</span><span class="token punctuation">,</span> <span class="token string">'FALCON HEAVY'</span><span class="token punctuation">,</span> <span class="token string">'DRAGON'</span><span class="token punctuation">,</span> <span class="token string">'STARSHIP'</span><span class="token punctuation">,</span> <span class="token string">'HUMAN SPACEFLIGHT'</span><span class="token punctuation">]</span>

<span class="token keyword">type</span> <span class="token class-name">length1</span> <span class="token operator">=</span> Length<span class="token operator">&lt;</span>tesla<span class="token operator">></span> <span class="token comment">// 4</span>
<span class="token keyword">type</span> <span class="token class-name">length2</span> <span class="token operator">=</span> Length<span class="token operator">&lt;</span>spaceX<span class="token operator">></span> <span class="token comment">// 5</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä»£ç å®ç°ï¼š</p>
<div class="language-typescript line-numbers-mode" data-ext="ts" data-title="ts"><pre v-pre class="language-typescript"><code><span class="token keyword">type</span> <span class="token class-name">Length<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">></span></span> <span class="token operator">=</span> <span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token punctuation">{</span>length<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">}</span> <span class="token operator">?</span>  <span class="token constant">T</span><span class="token punctuation">[</span><span class="token string">'length'</span><span class="token punctuation">]</span><span class="token operator">:</span> <span class="token builtin">never</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>ä»£ç è¯¦è§£ï¼š</p>
<ul>
<li><code v-pre>T extends { length: number; }</code>ï¼šåˆ¤æ–­<code v-pre>T</code>æ˜¯å¦æ˜¯<code v-pre>{length: number}</code>çš„å­ç±»å‹</li>
<li><code v-pre>T['length']</code>ï¼šåœ¨TypeScriptä¸­ä¸èƒ½ä½¿ç”¨ <code v-pre>.</code> è¯­æ³•æ¥å–å€¼ï¼Œå¿…é¡»ä½¿ç”¨ <code v-pre>[]</code> è¯­æ³•</li>
</ul>
<h2 id="if" tabindex="-1"><a class="header-anchor" href="#if"><span>If</span></a></h2>
<blockquote>
<p><code v-pre>If&lt;T, C, F&gt;</code>è¡¨ç¤ºå®ƒæ¥æ”¶ä¸€ä¸ªæ¡ä»¶ç±»å‹ <code v-pre>T</code> ï¼Œä¸€ä¸ªåˆ¤æ–­ä¸ºçœŸæ—¶çš„è¿”å›ç±»å‹ <code v-pre>C</code> ï¼Œä»¥åŠä¸€ä¸ªåˆ¤æ–­ä¸ºå‡æ—¶çš„è¿”å›ç±»å‹ <code v-pre>F</code>ã€‚ <code v-pre>T</code> åªèƒ½æ˜¯ <code v-pre>true</code> æˆ–è€… <code v-pre>false</code>ï¼Œ <code v-pre>C</code> å’Œ <code v-pre>F</code> å¯ä»¥æ˜¯ä»»æ„ç±»å‹ã€‚</p>
</blockquote>
<p>ç”¨æ³•ï¼š</p>
<div class="language-typescript line-numbers-mode" data-ext="ts" data-title="ts"><pre v-pre class="language-typescript"><code><span class="token keyword">type</span> <span class="token class-name">a</span> <span class="token operator">=</span> If<span class="token operator">&lt;</span><span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token string">'b'</span><span class="token operator">></span> <span class="token comment">// 'a'</span>
<span class="token keyword">type</span> <span class="token class-name">b</span> <span class="token operator">=</span> If<span class="token operator">&lt;</span><span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token string">'b'</span><span class="token operator">></span> <span class="token comment">// 'b'</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>ä»£ç å®ç°ï¼š</p>
<div class="language-typescript line-numbers-mode" data-ext="ts" data-title="ts"><pre v-pre class="language-typescript"><code><span class="token keyword">type</span> <span class="token class-name">If<span class="token operator">&lt;</span><span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token builtin">boolean</span><span class="token punctuation">,</span> <span class="token constant">C</span><span class="token punctuation">,</span> <span class="token constant">F</span><span class="token operator">></span></span> <span class="token operator">=</span> <span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token class-name"><span class="token boolean">true</span></span> <span class="token operator">?</span> <span class="token constant">C</span> <span class="token operator">:</span> <span class="token constant">F</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>ä»£ç è¯¦è§£ï¼š</p>
<ul>
<li><code v-pre>T extends boolean</code>ï¼šè¡¨ç¤º <code v-pre>T</code> ç±»å‹ä¸º <code v-pre>boolean</code> ç±»å‹çš„å­ç±»å‹ï¼Œå³ <code v-pre>T</code> åªèƒ½æ¥æ”¶ <code v-pre>true</code> æˆ–è€… <code v-pre>false</code></li>
<li><code v-pre>T extends true</code>ï¼šå†™åœ¨ä¸‰å…ƒè¡¨è¾¾å¼ä¸­ï¼Œç”¨äºåˆ¤æ–­ <code v-pre>T</code> æ˜¯å¦ä¸º <code v-pre>true</code></li>
</ul>
<h2 id="concat" tabindex="-1"><a class="header-anchor" href="#concat"><span>Concat</span></a></h2>
<blockquote>
<p><code v-pre>Concat&lt;T, U&gt;</code>è¡¨ç¤ºè¿™ä¸ªç±»å‹æ¥å—ä¸¤ä¸ªå‚æ•°ï¼Œè¿”å›çš„æ–°æ•°ç»„ç±»å‹åº”è¯¥æŒ‰ç…§è¾“å…¥å‚æ•°ä»å·¦åˆ°å³çš„é¡ºåºåˆå¹¶ä¸ºä¸€ä¸ªæ–°çš„æ•°ç»„ã€‚</p>
</blockquote>
<p>ç”¨æ³•ï¼š</p>
<div class="language-typescript line-numbers-mode" data-ext="ts" data-title="ts"><pre v-pre class="language-typescript"><code><span class="token comment">// [1,2]</span>
<span class="token keyword">type</span> <span class="token class-name">Result</span> <span class="token operator">=</span> Concat<span class="token operator">&lt;</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token operator">></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>ä»£ç å®ç°ï¼š</p>
<div class="language-typescript line-numbers-mode" data-ext="ts" data-title="ts"><pre v-pre class="language-typescript"><code><span class="token keyword">type</span> <span class="token class-name">Concat<span class="token operator">&lt;</span><span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token builtin">any</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token constant">U</span> <span class="token keyword">extends</span> <span class="token builtin">any</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">></span></span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">...</span><span class="token constant">T</span><span class="token punctuation">,</span> <span class="token operator">...</span><span class="token constant">U</span><span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>ä»£ç è¯¦è§£ï¼š</p>
<ul>
<li><code v-pre>T extends any[]</code>ï¼šç”¨æ¥é™åˆ¶Tæ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œå¦‚æœä¼ é€’éæ•°ç»„ä¼šæŠ¥é”™ï¼ŒUä¹Ÿæ˜¯ä¸€æ ·çš„é“ç†ã€‚</li>
<li><code v-pre>[...T, ...U]</code>ï¼šå¯ä»¥ç†è§£æˆJavaScriptçš„æ‰©å±•è¿ç®—ç¬¦ <code v-pre>...</code> ã€‚</li>
</ul>
<h2 id="includes" tabindex="-1"><a class="header-anchor" href="#includes"><span>Includes</span></a></h2>
<blockquote>
<p><code v-pre>Includes&lt;Tï¼Œ U&gt;</code>è¡¨ç¤ºè¿™ä¸ªç±»å‹æ¥å—ä¸¤ä¸ªå‚æ•°ï¼Œç”¨äºåˆ¤æ–­ <code v-pre>U</code> æ˜¯å¦åœ¨æ•°ç»„ <code v-pre>T</code> ä¸­ï¼Œç±»ä¼¼å®ç°æ•°ç»„çš„ <code v-pre>includes</code> æ–¹æ³•ã€‚</p>
</blockquote>
<p>ç”¨æ³•ï¼š</p>
<div class="language-typescript line-numbers-mode" data-ext="ts" data-title="ts"><pre v-pre class="language-typescript"><code><span class="token keyword">type</span> <span class="token class-name">isPillarMen</span> <span class="token operator">=</span> Includes<span class="token operator">&lt;</span><span class="token punctuation">[</span><span class="token string">'Kars'</span><span class="token punctuation">,</span> <span class="token string">'Esidisi'</span><span class="token punctuation">,</span> <span class="token string">'Wamuu'</span><span class="token punctuation">,</span> <span class="token string">'Santana'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token string">'Dio'</span><span class="token operator">></span> <span class="token comment">// false</span>

<span class="token comment">// ä½¿ç”¨ç®€å•ç‰ˆï¼šé¢„æœŸæ˜¯falseï¼Œå®é™…æ˜¯true</span>
<span class="token keyword">type</span> <span class="token class-name">result</span> <span class="token operator">=</span> Includes<span class="token operator">&lt;</span><span class="token punctuation">[</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> a<span class="token operator">:</span> <span class="token string">'A'</span> <span class="token punctuation">}</span><span class="token operator">></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä»£ç å®ç°ï¼š</p>
<div class="language-typescript line-numbers-mode" data-ext="ts" data-title="ts"><pre v-pre class="language-typescript"><code>ç®€å•ç‰ˆ
<span class="token keyword">type</span> <span class="token class-name">Includes<span class="token operator">&lt;</span><span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token keyword">readonly</span> <span class="token builtin">any</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token constant">U</span><span class="token operator">></span></span> <span class="token operator">=</span> <span class="token constant">U</span> <span class="token keyword">extends</span> <span class="token class-name"><span class="token constant">T</span></span><span class="token punctuation">[</span><span class="token builtin">number</span><span class="token punctuation">]</span> <span class="token operator">?</span> <span class="token boolean">true</span> <span class="token operator">:</span> <span class="token boolean">false</span>

å®Œæ•´ç‰ˆ
<span class="token keyword">type</span> <span class="token class-name">Equal<span class="token operator">&lt;</span><span class="token constant">X</span><span class="token punctuation">,</span> <span class="token constant">Y</span><span class="token operator">></span></span> <span class="token operator">=</span>
  <span class="token punctuation">(</span><span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token class-name"><span class="token constant">X</span></span> <span class="token operator">?</span> <span class="token number">1</span> <span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token keyword">extends</span>
  <span class="token punctuation">(</span><span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token class-name"><span class="token constant">Y</span></span> <span class="token operator">?</span> <span class="token number">1</span> <span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token boolean">true</span> <span class="token operator">:</span> <span class="token boolean">false</span>

<span class="token keyword">type</span> <span class="token class-name">Includes<span class="token operator">&lt;</span><span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token keyword">readonly</span> <span class="token builtin">any</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token constant">U</span><span class="token operator">></span></span> <span class="token operator">=</span> 
<span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token punctuation">[</span><span class="token keyword">infer</span> First <span class="token punctuation">,</span> <span class="token operator">...</span><span class="token keyword">infer</span> Rest<span class="token punctuation">]</span> 
  <span class="token operator">?</span> 
    Equal<span class="token operator">&lt;</span>First<span class="token punctuation">,</span><span class="token constant">U</span><span class="token operator">></span> <span class="token keyword">extends</span> <span class="token class-name"><span class="token boolean">true</span></span> 
    <span class="token operator">?</span> 
      <span class="token boolean">true</span> 
    <span class="token operator">:</span> Includes<span class="token operator">&lt;</span>Rest<span class="token punctuation">,</span><span class="token constant">U</span><span class="token operator">></span> 
  <span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
<span class="token comment">// false</span>
<span class="token keyword">type</span> <span class="token class-name">result</span> <span class="token operator">=</span> Includes<span class="token operator">&lt;</span><span class="token punctuation">[</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> a<span class="token operator">:</span> <span class="token string">'A'</span> <span class="token punctuation">}</span><span class="token operator">></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä»£ç è¯¦è§£ï¼š</p>
<div class="language-typescript line-numbers-mode" data-ext="ts" data-title="ts"><pre v-pre class="language-typescript"><code>Equal<span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token punctuation">,</span> <span class="token builtin">number</span><span class="token operator">></span>

å…ˆåˆ†æ<span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token class-name"><span class="token builtin">string</span></span> <span class="token operator">?</span> <span class="token number">1</span> <span class="token operator">:</span> <span class="token number">2</span>ï¼Œå‡å®š<span class="token constant">T</span>ä¸º<span class="token builtin">string</span><span class="token punctuation">,</span> <span class="token builtin">string</span> <span class="token keyword">extends</span> <span class="token class-name"><span class="token builtin">string</span></span> ä¸º<span class="token boolean">true</span>ï¼Œ <span class="token function">ç»“æœ</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token number">1</span>
<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token class-name"><span class="token builtin">string</span></span> <span class="token operator">?</span> <span class="token number">1</span> <span class="token operator">:</span> <span class="token number">2</span>

å†åˆ†æ<span class="token builtin">string</span> <span class="token keyword">extends</span> <span class="token class-name"><span class="token builtin">number</span></span> <span class="token operator">?</span> <span class="token number">1</span> <span class="token operator">:</span> <span class="token number">2</span>ï¼Œ<span class="token builtin">string</span> <span class="token keyword">extends</span> <span class="token class-name"><span class="token builtin">number</span></span> ä¸º<span class="token boolean">false</span>ï¼Œ     <span class="token function">ç»“æœ</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token number">2</span>
<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token builtin">string</span> <span class="token keyword">extends</span> <span class="token class-name"><span class="token builtin">number</span></span> <span class="token operator">?</span> <span class="token number">1</span> <span class="token operator">:</span> <span class="token number">2</span>

<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token number">1</span> <span class="token keyword">extends</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token number">2</span> <span class="token comment">// false</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="push" tabindex="-1"><a class="header-anchor" href="#push"><span>Push</span></a></h2>
<blockquote>
<p><code v-pre>Push&lt;T, U&gt;</code>è¡¨ç¤ºå°†Uç±»å‹æ·»åŠ åˆ°Tç±»å‹ï¼Œå¹¶ä½œä¸ºTç±»å‹çš„æœ€åä¸€é¡¹ã€‚</p>
</blockquote>
<p>ç”¨ä¾‹ï¼š</p>
<div class="language-typescript line-numbers-mode" data-ext="ts" data-title="ts"><pre v-pre class="language-typescript"><code><span class="token comment">// [1,2,'3']</span>
<span class="token keyword">type</span> <span class="token class-name">Result</span> <span class="token operator">=</span> Push<span class="token operator">&lt;</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token string">'3'</span><span class="token operator">></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>ä»£ç å®ç°ï¼š</p>
<div class="language-typescript line-numbers-mode" data-ext="ts" data-title="ts"><pre v-pre class="language-typescript"><code><span class="token comment">// [1,2,'3']</span>
<span class="token keyword">type</span> <span class="token class-name">Push<span class="token operator">&lt;</span><span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token keyword">readonly</span> <span class="token builtin">any</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token constant">U</span><span class="token operator">></span></span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">...</span><span class="token constant">T</span><span class="token punctuation">,</span> <span class="token constant">U</span><span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="unshift" tabindex="-1"><a class="header-anchor" href="#unshift"><span>Unshift</span></a></h2>
<blockquote>
<p><code v-pre>Unshift&lt;T, U&gt;</code>è¡¨ç¤ºå°†Uç±»å‹æ·»åŠ åˆ°Tç±»å‹ï¼Œå¹¶ä½œä¸ºTç±»å‹çš„ç¬¬ä¸€é¡¹ã€‚</p>
</blockquote>
<p>ç”¨ä¾‹ï¼š</p>
<div class="language-typescript line-numbers-mode" data-ext="ts" data-title="ts"><pre v-pre class="language-typescript"><code><span class="token comment">// ['3', 1, 2]</span>
<span class="token keyword">type</span> <span class="token class-name">Result</span> <span class="token operator">=</span> Unshift<span class="token operator">&lt;</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token string">'3'</span><span class="token operator">></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>ä»£ç å®ç°ï¼š</p>
<div class="language-typescript line-numbers-mode" data-ext="ts" data-title="ts"><pre v-pre class="language-typescript"><code><span class="token comment">// ['3', 1, 2]</span>
<span class="token keyword">type</span> <span class="token class-name">Unshift<span class="token operator">&lt;</span><span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token keyword">readonly</span> <span class="token builtin">any</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token constant">U</span><span class="token operator">></span></span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token constant">U</span><span class="token punctuation">,</span> <span class="token operator">...</span><span class="token constant">T</span><span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="promisetype" tabindex="-1"><a class="header-anchor" href="#promisetype"><span>PromiseType</span></a></h2>
<blockquote>
<p><code v-pre>PromiseType&lt;T&gt;</code>ç”¨æ¥è·å–<code v-pre>Promise</code>åŒ…è£¹ç±»å‹ã€‚</p>
</blockquote>
<p>ç”¨æ³•ï¼š</p>
<div class="language-typescript line-numbers-mode" data-ext="ts" data-title="ts"><pre v-pre class="language-typescript"><code><span class="token keyword">function</span> <span class="token function">getInfo</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Promise</span><span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token operator">|</span><span class="token builtin">number</span><span class="token operator">></span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token builtin">Promise</span><span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token comment">// ç»“æœï¼š(ï¼‰ => Promise&lt;string|number></span>
<span class="token keyword">type</span> <span class="token class-name">funcType</span> <span class="token operator">=</span> <span class="token keyword">typeof</span> getInfo
<span class="token comment">// ç»“æœï¼šPromise&lt;string|number></span>
<span class="token keyword">type</span> <span class="token class-name">returnResult</span> <span class="token operator">=</span> ReturnType<span class="token operator">&lt;</span>funcType<span class="token operator">></span>
<span class="token comment">// ç»“æœï¼šstring|number</span>
<span class="token keyword">type</span> <span class="token class-name">PromiseResult</span> <span class="token operator">=</span> PromiseType<span class="token operator">&lt;</span>returnResult<span class="token operator">></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä»£ç å®ç°ï¼š</p>
<div class="language-typescript line-numbers-mode" data-ext="ts" data-title="ts"><pre v-pre class="language-typescript"><code><span class="token keyword">type</span> <span class="token class-name">PromiseType<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">></span></span> <span class="token operator">=</span> <span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token class-name"><span class="token builtin">Promise</span><span class="token operator">&lt;</span><span class="token keyword">infer</span> <span class="token constant">R</span><span class="token operator">></span></span> <span class="token operator">?</span> <span class="token constant">R</span> <span class="token operator">:</span> <span class="token builtin">never</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>ä»£ç è¯¦è§£ï¼š</p>
<ul>
<li><code v-pre>T extends Promise&lt;infer R&gt;</code>ï¼šåˆ¤æ–­ <code v-pre>T</code> æ˜¯å¦æ˜¯ <code v-pre>Promise&lt;infer R&gt;</code> çš„å­ç±»å‹ï¼Œä¹Ÿå°±æ˜¯è¯´Tå¿…é¡»æ»¡è¶³ <code v-pre>Promise&lt;any&gt;</code> çš„å½¢å¼ã€‚</li>
</ul>
<h2 id="æŒ‰éœ€readonly" tabindex="-1"><a class="header-anchor" href="#æŒ‰éœ€readonly"><span>æŒ‰éœ€Readonly</span></a></h2>
<blockquote>
<p><code v-pre>Readonly&lt;T, K&gt;</code> KæŒ‡å®šåº”è®¾ç½®ä¸ºReadonlyçš„Tçš„å±æ€§é›†ã€‚å¦‚æœæœªæä¾›Kï¼Œåˆ™åº”ä½¿æ‰€æœ‰å±æ€§éƒ½å˜ä¸ºåªè¯»ï¼Œå°±åƒæ™®é€šçš„ <code v-pre>Readonly&lt;T&gt;</code> ä¸€æ ·ã€‚</p>
</blockquote>
<div class="language-typescript line-numbers-mode" data-ext="ts" data-title="ts"><pre v-pre class="language-typescript"><code><span class="token keyword">interface</span> <span class="token class-name">Todo</span> <span class="token punctuation">{</span>
  title<span class="token operator">:</span> <span class="token builtin">string</span>
  description<span class="token operator">:</span> <span class="token builtin">string</span>
  completed<span class="token operator">:</span> <span class="token builtin">boolean</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> todo<span class="token operator">:</span> MyReadonly2<span class="token operator">&lt;</span>Todo<span class="token punctuation">,</span> <span class="token string">'title'</span> <span class="token operator">|</span> <span class="token string">'description'</span><span class="token operator">></span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  title<span class="token operator">:</span> <span class="token string">"Hey"</span><span class="token punctuation">,</span>
  description<span class="token operator">:</span> <span class="token string">"foobar"</span><span class="token punctuation">,</span>
  completed<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>

todo<span class="token punctuation">.</span>title <span class="token operator">=</span> <span class="token string">"Hello"</span> <span class="token comment">// Error: cannot reassign a readonly property</span>
todo<span class="token punctuation">.</span>description <span class="token operator">=</span> <span class="token string">"barFoo"</span> <span class="token comment">// Error: cannot reassign a readonly property</span>
todo<span class="token punctuation">.</span>completed <span class="token operator">=</span> <span class="token boolean">true</span> <span class="token comment">// OK</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä»£ç å®ç°ï¼š</p>
<div class="language-typescript line-numbers-mode" data-ext="ts" data-title="ts"><pre v-pre class="language-typescript"><code><span class="token keyword">type</span> <span class="token class-name">MyReadonly2<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token punctuation">,</span> <span class="token constant">K</span> <span class="token keyword">extends</span> <span class="token keyword">keyof</span> <span class="token constant">T</span> <span class="token operator">=</span> <span class="token keyword">keyof</span> <span class="token constant">T</span><span class="token operator">></span></span> <span class="token operator">=</span> <span class="token constant">T</span> <span class="token operator">&amp;</span> <span class="token punctuation">{</span>
  <span class="token keyword">readonly</span> <span class="token punctuation">[</span><span class="token constant">P</span> <span class="token keyword">in</span> <span class="token constant">K</span><span class="token punctuation">]</span><span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">[</span><span class="token constant">P</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä»£ç è¯¦è§£ï¼š</p>
<ul>
<li><code v-pre>K extends keyof T = keyof T</code>ï¼šå¦‚æœä¸ä¼ é€’ï¼Œåˆ™é»˜è®¤å€¼ä¸º<code v-pre>keyof T</code>ï¼Œæ„å‘³ç€å…¨éƒ¨å±æ€§éƒ½æ·»åŠ readonlyã€‚</li>
</ul>
<h2 id="deepreadonly" tabindex="-1"><a class="header-anchor" href="#deepreadonly"><span>DeepReadonly</span></a></h2>
<blockquote>
<p><code v-pre>DeepReadonly&lt;T&gt;</code>è¡¨ç¤ºå°†Tç±»å‹çš„æ¯ä¸ªå‚æ•°åŠå…¶å­å¯¹è±¡é€’å½’åœ°è®¾ä¸ºåªè¯»ã€‚</p>
</blockquote>
<p>ç”¨æ³•ï¼š</p>
<div class="language-typescript line-numbers-mode" data-ext="ts" data-title="ts"><pre v-pre class="language-typescript"><code><span class="token keyword">type</span> <span class="token class-name"><span class="token constant">X</span></span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  x<span class="token operator">:</span> <span class="token punctuation">{</span>
    a<span class="token operator">:</span> <span class="token number">1</span>
    b<span class="token operator">:</span> <span class="token string">'hi'</span>
  <span class="token punctuation">}</span>
  y<span class="token operator">:</span> <span class="token string">'hey'</span>
<span class="token punctuation">}</span>

<span class="token keyword">type</span> <span class="token class-name">Todo</span> <span class="token operator">=</span> DeepReadonly<span class="token operator">&lt;</span><span class="token constant">X</span><span class="token operator">></span>

æœŸæœ›çš„ç»“æœğŸ‘‡
<span class="token keyword">type</span> <span class="token class-name">Expected</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token keyword">readonly</span> x<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token keyword">readonly</span> a<span class="token operator">:</span> <span class="token number">1</span>
    <span class="token keyword">readonly</span> b<span class="token operator">:</span> <span class="token string">'hi'</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">readonly</span> y<span class="token operator">:</span> <span class="token string">'hey'</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä»£ç å®ç°ï¼š</p>
<div class="language-typescript line-numbers-mode" data-ext="ts" data-title="ts"><pre v-pre class="language-typescript"><code><span class="token keyword">type</span> <span class="token class-name">DeepReadonly<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">></span></span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token punctuation">[</span><span class="token constant">P</span> <span class="token keyword">in</span> <span class="token keyword">keyof</span> <span class="token constant">T</span><span class="token punctuation">]</span><span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">[</span><span class="token constant">P</span><span class="token punctuation">]</span> <span class="token keyword">extends</span> <span class="token punctuation">{</span><span class="token punctuation">[</span>key<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">]</span><span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">}</span> <span class="token operator">?</span> DeepReadonly<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token punctuation">[</span><span class="token constant">P</span><span class="token punctuation">]</span><span class="token operator">></span> <span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">[</span><span class="token constant">P</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä»£ç è¯¦è§£ï¼š</p>
<ul>
<li><code v-pre>T[P] extends { [key: string]: any }</code>ï¼šè¿™æ®µè¡¨ç¤ºT[P]æ˜¯å¦æ˜¯ä¸€ä¸ªåŒ…å«ç´¢å¼•ç­¾åçš„å­—æ®µï¼Œå¦‚æœåŒ…å«æˆ‘ä»¬è®¤ä¸ºå®ƒæ˜¯ä¸€ä¸ªåµŒå¥—å¯¹è±¡ï¼Œå°±å¯ä»¥é€’å½’è°ƒç”¨DeepReadonlyã€‚</li>
</ul>
<h2 id="tupletounion" tabindex="-1"><a class="header-anchor" href="#tupletounion"><span>TupleToUnion</span></a></h2>
<blockquote>
<p><code v-pre>TupleToUnion&lt;T&gt;</code>ç”¨æ¥å°†ä¸€ä¸ªå…ƒç»„ç±»å‹Tè½¬æ¢æˆè”åˆç±»å‹.</p>
</blockquote>
<p>ç”¨æ³•ï¼š</p>
<div class="language-typescript line-numbers-mode" data-ext="ts" data-title="ts"><pre v-pre class="language-typescript"><code><span class="token keyword">type</span> <span class="token class-name">Arr</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'1'</span><span class="token punctuation">,</span> <span class="token string">'2'</span><span class="token punctuation">,</span> <span class="token string">'3'</span><span class="token punctuation">]</span>

<span class="token comment">// "1" | "2" | "3"</span>
<span class="token keyword">type</span> <span class="token class-name">Test</span> <span class="token operator">=</span> TupleToUnion<span class="token operator">&lt;</span>Arr<span class="token operator">></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä»£ç å®ç°ï¼š</p>
<div class="language-typescript line-numbers-mode" data-ext="ts" data-title="ts"><pre v-pre class="language-typescript"><code>æ–¹æ³•ä¸€ï¼š
<span class="token keyword">type</span> <span class="token class-name">TupleToUnion<span class="token operator">&lt;</span><span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token builtin">any</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">></span></span> <span class="token operator">=</span> <span class="token constant">T</span><span class="token punctuation">[</span><span class="token builtin">number</span><span class="token punctuation">]</span>

æ–¹æ³•äºŒï¼š
<span class="token keyword">type</span> <span class="token class-name">TupleToUnion<span class="token operator">&lt;</span><span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token builtin">any</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">></span></span> <span class="token operator">=</span> <span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token punctuation">[</span><span class="token keyword">infer</span> <span class="token constant">L</span><span class="token punctuation">,</span> <span class="token operator">...</span><span class="token keyword">infer</span> <span class="token constant">R</span><span class="token punctuation">]</span> <span class="token operator">?</span> <span class="token constant">L</span> <span class="token operator">|</span> TupleToUnion<span class="token operator">&lt;</span><span class="token constant">R</span><span class="token operator">></span> <span class="token operator">:</span> <span class="token builtin">never</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä»£ç è¯¦è§£ï¼š</p>
<ul>
<li><code v-pre>T[number]</code>ï¼šå®ƒä¼šè‡ªåŠ¨è¿­ä»£å…ƒç»„çš„æ•°å­—å‹ç´¢å¼•ï¼Œç„¶åå°†æ‰€ä»¥å…ƒç´ ç»„åˆæˆä¸€ä¸ªè”åˆç±»å‹ã€‚</li>
<li><code v-pre>L | TupleToUnion&lt;R&gt;</code>ï¼šLè¡¨ç¤ºæ¯ä¸€æ¬¡è¿­ä»£ä¸­çš„ç¬¬ä¸€ä¸ªå…ƒç´ ï¼Œå®ƒçš„è¿­ä»£è¿‡ç¨‹å¯ä»¥ç”¨ä¸‹é¢ä¼ªä»£ç è¡¨ç¤ºï¼š</li>
</ul>
<div class="language-typescript line-numbers-mode" data-ext="ts" data-title="ts"><pre v-pre class="language-typescript"><code><span class="token comment">// ç¬¬ä¸€æ¬¡è¿­ä»£</span>
<span class="token keyword">const</span> <span class="token constant">L</span> <span class="token operator">=</span> <span class="token string">'1'</span>
<span class="token keyword">const</span> <span class="token constant">R</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'2'</span><span class="token punctuation">,</span> <span class="token string">'3'</span><span class="token punctuation">]</span>
<span class="token keyword">const</span> result <span class="token operator">=</span> <span class="token string">'1'</span> <span class="token operator">|</span> TupleToUnion<span class="token operator">&lt;</span><span class="token constant">R</span><span class="token operator">></span>

<span class="token comment">// ç¬¬äºŒæ¬¡è¿­ä»£</span>
<span class="token keyword">const</span> <span class="token constant">L</span> <span class="token operator">=</span> <span class="token string">'2'</span>
<span class="token keyword">const</span> <span class="token constant">R</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'3'</span><span class="token punctuation">]</span>
<span class="token keyword">const</span> result <span class="token operator">=</span> <span class="token string">'1'</span> <span class="token operator">|</span> <span class="token string">'2'</span> <span class="token operator">|</span> TupleToUnion<span class="token operator">&lt;</span><span class="token constant">R</span><span class="token operator">></span>

<span class="token comment">// ç¬¬ä¸‰æ¬¡è¿­ä»£</span>
<span class="token keyword">const</span> <span class="token constant">L</span> <span class="token operator">=</span> <span class="token string">'3'</span>
<span class="token keyword">const</span> <span class="token constant">R</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">''</span><span class="token punctuation">]</span>
<span class="token keyword">const</span> result <span class="token operator">=</span> <span class="token string">'1'</span> <span class="token operator">|</span> <span class="token string">'2'</span> <span class="token operator">|</span> <span class="token string">'3'</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="last" tabindex="-1"><a class="header-anchor" href="#last"><span>Last</span></a></h2>
<blockquote>
<p><code v-pre>Last&lt;T&gt;</code>ç”¨æ¥è·å–æ•°ç»„ä¸­çš„æœ€åä¸€ä¸ªå…ƒç´ ã€‚</p>
</blockquote>
<p>ç”¨æ³•ï¼š</p>
<div class="language-typescript line-numbers-mode" data-ext="ts" data-title="ts"><pre v-pre class="language-typescript"><code><span class="token keyword">type</span> <span class="token class-name">arr1</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token string">'b'</span><span class="token punctuation">,</span> <span class="token string">'c'</span><span class="token punctuation">]</span>
<span class="token keyword">type</span> <span class="token class-name">arr2</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span>

<span class="token keyword">type</span> <span class="token class-name">tail1</span> <span class="token operator">=</span> Last<span class="token operator">&lt;</span>arr1<span class="token operator">></span> <span class="token comment">// expected to be 'c'</span>
<span class="token keyword">type</span> <span class="token class-name">tail2</span> <span class="token operator">=</span> Last<span class="token operator">&lt;</span>arr2<span class="token operator">></span> <span class="token comment">// expected to be 1</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä»£ç å®ç°ï¼š</p>
<div class="language-typescript line-numbers-mode" data-ext="ts" data-title="ts"><pre v-pre class="language-typescript"><code><span class="token comment">// way1ï¼šç´¢å¼•æ€æƒ³</span>
<span class="token keyword">type</span> <span class="token class-name">Last<span class="token operator">&lt;</span><span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token builtin">any</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">></span></span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token builtin">any</span><span class="token punctuation">,</span> <span class="token operator">...</span><span class="token constant">T</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token constant">T</span><span class="token punctuation">[</span><span class="token string">'length'</span><span class="token punctuation">]</span><span class="token punctuation">]</span>

<span class="token comment">// way2: åå ä½æ€æƒ³</span>
<span class="token keyword">type</span> <span class="token class-name">Last<span class="token operator">&lt;</span><span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token builtin">any</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">></span></span> <span class="token operator">=</span> <span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token punctuation">[</span><span class="token operator">...</span><span class="token keyword">infer</span> <span class="token constant">L</span><span class="token punctuation">,</span> <span class="token keyword">infer</span> <span class="token constant">R</span><span class="token punctuation">]</span> <span class="token operator">?</span> <span class="token constant">R</span> <span class="token operator">:</span> <span class="token builtin">never</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä»£ç è¯¦è§£ï¼š</p>
<ul>
<li><code v-pre>[any, ...T]</code>ï¼šè¡¨ç¤ºæˆ‘ä»¬æ„å»ºäº†ä¸€ä¸ªæ–°æ•°ç»„ï¼Œå¹¶æ·»åŠ äº†ä¸€ä¸ªæ–°å…ƒç´ åˆ°ç¬¬ä¸€ä¸ªä½ç½®ï¼Œç„¶åæŠŠåŸæ•°ç»„Tä¸­çš„å…ƒç´ ä¾æ¬¡æ‰©å±•åˆ°æ–°æ•°ç»„ä¸­ï¼Œå¯ä»¥ç”¨ä»¥ä¸‹ä¼ªä»£ç è¡¨ç¤ºï¼š</li>
</ul>
<div class="language-typescript line-numbers-mode" data-ext="ts" data-title="ts"><pre v-pre class="language-typescript"><code><span class="token comment">// åŸæ•°ç»„</span>
<span class="token keyword">const</span> <span class="token constant">T</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span>

<span class="token comment">// æ–°æ•°ç»„</span>
<span class="token keyword">const</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token builtin">any</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span>

<span class="token comment">// ç»“æœ: 3</span>
<span class="token keyword">const</span> result <span class="token operator">=</span> arr<span class="token punctuation">[</span><span class="token constant">T</span><span class="token punctuation">[</span><span class="token string">'length'</span><span class="token punctuation">]</span><span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="chainable-å¯ä¸²è”æ„é€ å™¨" tabindex="-1"><a class="header-anchor" href="#chainable-å¯ä¸²è”æ„é€ å™¨"><span>Chainable(å¯ä¸²è”æ„é€ å™¨)</span></a></h2>
<blockquote>
<p><code v-pre>Chainable&lt;T&gt;</code> ç”¨æ¥è®©ä¸€ä¸ªå¯¹è±¡å¯ä»¥è¿›è¡Œé“¾å¼è°ƒç”¨</p>
</blockquote>
<p>ç”¨æ³•ï¼š</p>
<div class="language-typescript line-numbers-mode" data-ext="ts" data-title="ts"><pre v-pre class="language-typescript"><code><span class="token keyword">declare</span> <span class="token keyword">const</span> config<span class="token operator">:</span> Chainable<span class="token operator">&lt;</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token operator">></span>

<span class="token keyword">const</span> res <span class="token operator">=</span> config
  <span class="token punctuation">.</span><span class="token function">options</span><span class="token punctuation">(</span><span class="token string">'foo'</span><span class="token punctuation">,</span> <span class="token number">123</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">options</span><span class="token punctuation">(</span><span class="token string">'bar'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> value<span class="token operator">:</span> <span class="token string">'Hello'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">options</span><span class="token punctuation">(</span><span class="token string">'name'</span><span class="token punctuation">,</span> <span class="token string">'TypeScript'</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä»£ç å®ç°ï¼š</p>
<div class="language-typescript line-numbers-mode" data-ext="ts" data-title="ts"><pre v-pre class="language-typescript"><code><span class="token keyword">type</span> <span class="token class-name">Chainable<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">></span></span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token generic-function"><span class="token function">options</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token constant">K</span> <span class="token keyword">extends</span> <span class="token builtin">string</span><span class="token punctuation">,</span> <span class="token constant">V</span><span class="token operator">></span></span></span><span class="token punctuation">(</span>key<span class="token operator">:</span> <span class="token constant">K</span><span class="token punctuation">,</span> value<span class="token operator">:</span> <span class="token constant">V</span><span class="token punctuation">)</span><span class="token operator">:</span> Chainable<span class="token operator">&lt;</span><span class="token constant">T</span> <span class="token operator">&amp;</span> <span class="token punctuation">{</span><span class="token punctuation">[</span>k <span class="token keyword">in</span> <span class="token constant">K</span><span class="token punctuation">]</span><span class="token operator">:</span> <span class="token constant">V</span><span class="token punctuation">}</span><span class="token operator">></span>
  <span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token constant">T</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä»£ç è¯¦è§£ï¼š</p>
<ul>
<li><code v-pre>{[k in K]: V}</code>ï¼šæ¯æ¬¡è°ƒç”¨optionsæ—¶ï¼ŒæŠŠkey/valueæ„é€ æˆä¸€ä¸ªå¯¹è±¡ï¼Œä¾‹å¦‚ï¼š<code v-pre>{ foo: 123 }</code>ã€‚</li>
<li><code v-pre>T &amp; {[k in K]: V}</code>ï¼šæ­¤å¤„ä½¿ç”¨åˆ° <code v-pre>&amp;</code> å…³é”®è¯ï¼Œç”¨æ¥åˆå¹¶ <code v-pre>T</code> å’Œ <code v-pre>{[k in K]: V}</code> ä¸¤ä¸ªå¯¹è±¡ä¸­çš„æ‰€æœ‰<code v-pre>key</code>ã€‚</li>
<li><code v-pre>Chainable&lt;&gt;</code>ï¼šé€’å½’è°ƒç”¨ <code v-pre>Chainable</code> ï¼Œèµ‹äºˆæ–°å¯¹è±¡ä»¥é“¾å¼è°ƒç”¨çš„èƒ½åŠ›ã€‚</li>
</ul>
<h2 id="pop" tabindex="-1"><a class="header-anchor" href="#pop"><span>Pop</span></a></h2>
<blockquote>
<p><code v-pre>Pop&lt;T&gt;</code> æ¥æ”¶ä¸€ä¸ªæ•°ç»„ <code v-pre>T</code> å¹¶è¿”å›åˆ é™¤æœ€åä¸€ä¸ªå…ƒç´ çš„æ–°æ•°ç»„ã€‚</p>
</blockquote>
<p>ç”¨æ³•ï¼š</p>
<div class="language-typescript line-numbers-mode" data-ext="ts" data-title="ts"><pre v-pre class="language-typescript"><code><span class="token keyword">type</span> <span class="token class-name">arr1</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
<span class="token keyword">type</span> <span class="token class-name">arr2</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span>

<span class="token keyword">type</span> <span class="token class-name">re1</span> <span class="token operator">=</span> Pop<span class="token operator">&lt;</span>arr1<span class="token operator">></span> <span class="token comment">// expected to be []</span>
<span class="token keyword">type</span> <span class="token class-name">re2</span> <span class="token operator">=</span> Pop<span class="token operator">&lt;</span>arr2<span class="token operator">></span> <span class="token comment">// expected to be [3, 2]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä»£ç å®ç°ï¼š</p>
<div class="language-typescript line-numbers-mode" data-ext="ts" data-title="ts"><pre v-pre class="language-typescript"><code><span class="token keyword">type</span> <span class="token class-name">Pop<span class="token operator">&lt;</span><span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token keyword">readonly</span> <span class="token builtin">any</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">></span></span> <span class="token operator">=</span> <span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token punctuation">[</span><span class="token operator">...</span><span class="token keyword">infer</span> <span class="token constant">L</span><span class="token punctuation">,</span> <span class="token keyword">infer</span> <span class="token constant">R</span><span class="token punctuation">]</span> <span class="token operator">?</span> <span class="token constant">L</span> <span class="token operator">:</span> <span class="token builtin">never</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="lookup-æŸ¥æ‰¾" tabindex="-1"><a class="header-anchor" href="#lookup-æŸ¥æ‰¾"><span>LookUp(æŸ¥æ‰¾)</span></a></h2>
<p>ç”¨æ³•ï¼š</p>
<div class="language-typescript line-numbers-mode" data-ext="ts" data-title="ts"><pre v-pre class="language-typescript"><code><span class="token keyword">interface</span> <span class="token class-name">Cat</span> <span class="token punctuation">{</span>
  type<span class="token operator">:</span> <span class="token string">'cat'</span>
  color<span class="token operator">:</span> <span class="token string">'black'</span> <span class="token operator">|</span> <span class="token string">'orange'</span> <span class="token operator">|</span> <span class="token string">'gray'</span>
<span class="token punctuation">}</span>
<span class="token keyword">interface</span> <span class="token class-name">Dog</span> <span class="token punctuation">{</span>
  type<span class="token operator">:</span> <span class="token string">'dog'</span>
  color<span class="token operator">:</span> <span class="token string">'white'</span>
  name<span class="token operator">:</span> <span class="token string">'wang'</span>
<span class="token punctuation">}</span>

<span class="token comment">// ç»“æœï¼šDog</span>
<span class="token keyword">type</span> <span class="token class-name">result</span> <span class="token operator">=</span> LookUp<span class="token operator">&lt;</span>Cat <span class="token operator">|</span> Dog<span class="token punctuation">,</span> <span class="token string">'dog'</span><span class="token operator">></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä»£ç å®ç°ï¼š</p>
<div class="language-typescript line-numbers-mode" data-ext="ts" data-title="ts"><pre v-pre class="language-typescript"><code><span class="token keyword">type</span> <span class="token class-name">LookUp<span class="token operator">&lt;</span>
  <span class="token constant">U</span> <span class="token keyword">extends</span> <span class="token punctuation">{</span> type<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token builtin">string</span>
<span class="token operator">></span></span> <span class="token operator">=</span> <span class="token constant">U</span> <span class="token keyword">extends</span> <span class="token punctuation">{</span> type<span class="token operator">:</span> <span class="token constant">T</span> <span class="token punctuation">}</span> <span class="token operator">?</span> <span class="token constant">U</span> <span class="token operator">:</span> <span class="token builtin">never</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä»£ç è¯¦è§£ï¼š</p>
<ul>
<li><code v-pre>U extends { type: string; }</code>ï¼šé™åˆ¶Uçš„ç±»å‹å¿…é¡»æ˜¯å…·æœ‰å±æ€§ä¸ºtypeçš„å¯¹è±¡</li>
</ul>
<h2 id="promiseallè¿”å›ç±»å‹" tabindex="-1"><a class="header-anchor" href="#promiseallè¿”å›ç±»å‹"><span>PromiseAllè¿”å›ç±»å‹</span></a></h2>
<blockquote>
<p><code v-pre>PromiseAll</code>æ˜¯ç”¨æ¥å–Promise.all()å‡½æ•°æ‰€æœ‰è¿”å›çš„ç±»å‹</p>
</blockquote>
<p>ç”¨æ³•ï¼š</p>
<div class="language-typescript line-numbers-mode" data-ext="ts" data-title="ts"><pre v-pre class="language-typescript"><code><span class="token comment">// ç»“æœï¼šPromise&lt;[number, number, number]></span>
<span class="token keyword">type</span> <span class="token class-name">result</span> <span class="token operator">=</span> <span class="token keyword">typeof</span> <span class="token function">PromiseAll</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token builtin">Promise</span><span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>ä»£ç å®ç°ï¼š
ä¸ä¹‹å‰çš„ä¾‹å­ä¸åŒï¼ŒPromiseAllæˆ‘ä»¬å£°æ˜çš„æ˜¯ä¸€ä¸ªfunctionè€Œä¸æ˜¯typeã€‚</p>
<div class="language-typescript line-numbers-mode" data-ext="ts" data-title="ts"><pre v-pre class="language-typescript"><code><span class="token keyword">type</span> <span class="token class-name">PromiseAllType<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">></span></span> <span class="token operator">=</span> <span class="token builtin">Promise</span><span class="token operator">&lt;</span><span class="token punctuation">{</span>
  <span class="token punctuation">[</span><span class="token constant">P</span> <span class="token keyword">in</span> <span class="token keyword">keyof</span> <span class="token constant">T</span><span class="token punctuation">]</span><span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">[</span><span class="token constant">P</span><span class="token punctuation">]</span> <span class="token keyword">extends</span> <span class="token class-name"><span class="token builtin">Promise</span><span class="token operator">&lt;</span><span class="token keyword">infer</span> <span class="token constant">R</span><span class="token operator">></span></span> <span class="token operator">?</span> <span class="token constant">R</span> <span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">[</span><span class="token constant">P</span><span class="token punctuation">]</span>git
<span class="token punctuation">}</span><span class="token operator">></span>
<span class="token keyword">declare</span> <span class="token keyword">function</span> <span class="token generic-function"><span class="token function">PromiseAll</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token builtin">any</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">></span></span></span><span class="token punctuation">(</span>values<span class="token operator">:</span> <span class="token keyword">readonly</span> <span class="token punctuation">[</span><span class="token operator">...</span><span class="token constant">T</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">:</span> PromiseAllType<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä»£ç è¯¦è§£ï¼š</p>
<ul>
<li>å› ä¸º<code v-pre>Promise.all()</code>å‡½æ•°æ¥å—çš„æ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œå› æ­¤æ³›å‹<code v-pre>T</code>é™åˆ¶ä¸ºä¸€ä¸ª<code v-pre>any[]</code>ç±»å‹çš„æ•°ç»„ã€‚</li>
<li><code v-pre>PromiseAllType</code>çš„å®ç°æ€è·¯æœ‰ç‚¹åƒä¹‹å‰çš„<code v-pre>PromiseType</code>ï¼Œåªä¸è¿‡è¿™é‡Œå¤šäº†ä¸€å±‚<code v-pre>Promise</code>çš„åŒ…è£¹ï¼Œå› ä¸º<code v-pre>Promise.all()</code>çš„è¿”å›ç±»å‹ä¹Ÿæ˜¯ä¸€ä¸ª<code v-pre>Promise</code>ã€‚</li>
</ul>
<h2 id="trimã€trimleftä»¥åŠtrimright" tabindex="-1"><a class="header-anchor" href="#trimã€trimleftä»¥åŠtrimright"><span>Trimã€TrimLeftä»¥åŠTrimRight</span></a></h2>
<blockquote>
<p><code v-pre>Trimã€TrimLeftä»¥åŠTrimRight</code>éƒ½æ˜¯ç”¨æ¥å»é™¤ç©ºæ ¼çš„ã€‚</p>
</blockquote>
<p>ç”¨æ³•ï¼š</p>
<div class="language-typescript line-numbers-mode" data-ext="ts" data-title="ts"><pre v-pre class="language-typescript"><code><span class="token keyword">const</span> t1 <span class="token operator">=</span> TrimLeft<span class="token operator">&lt;</span><span class="token string">' str'</span><span class="token operator">></span>  <span class="token comment">// 'str'</span>
<span class="token keyword">const</span> t2 <span class="token operator">=</span> Trim<span class="token operator">&lt;</span><span class="token string">' str '</span><span class="token operator">></span>     <span class="token comment">// 'str'</span>
<span class="token keyword">const</span> t3 <span class="token operator">=</span> TrimRight<span class="token operator">&lt;</span><span class="token string">'str '</span><span class="token operator">></span> <span class="token comment">// 'str'</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä»£ç å®ç°ï¼š</p>
<div class="language-typescript line-numbers-mode" data-ext="ts" data-title="ts"><pre v-pre class="language-typescript"><code><span class="token keyword">type</span> <span class="token class-name">Space</span> <span class="token operator">=</span> <span class="token string">' '</span> <span class="token operator">|</span> <span class="token string">'\n'</span> <span class="token operator">|</span> <span class="token string">'\t'</span>
<span class="token keyword">type</span> <span class="token class-name">TrimLeft<span class="token operator">&lt;</span><span class="token constant">S</span> <span class="token keyword">extends</span> <span class="token builtin">string</span><span class="token operator">></span></span> <span class="token operator">=</span> <span class="token constant">S</span> <span class="token keyword">extends</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>Space<span class="token interpolation-punctuation punctuation">}</span></span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">infer</span> <span class="token constant">R</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span> <span class="token operator">?</span> TrimLeft<span class="token operator">&lt;</span><span class="token constant">R</span><span class="token operator">></span> <span class="token operator">:</span> <span class="token constant">S</span>
<span class="token keyword">type</span> <span class="token class-name">Trim<span class="token operator">&lt;</span><span class="token constant">S</span> <span class="token keyword">extends</span> <span class="token builtin">string</span><span class="token operator">></span></span> <span class="token operator">=</span> <span class="token constant">S</span> <span class="token keyword">extends</span> <span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>Space<span class="token interpolation-punctuation punctuation">}</span></span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">infer</span> <span class="token constant">R</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span> <span class="token operator">|</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">infer</span> <span class="token constant">R</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>Space<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span> <span class="token operator">?</span> Trim<span class="token operator">&lt;</span><span class="token constant">R</span><span class="token operator">></span> <span class="token operator">:</span> <span class="token constant">S</span>
<span class="token keyword">type</span> <span class="token class-name">TrimRight<span class="token operator">&lt;</span><span class="token constant">S</span> <span class="token keyword">extends</span> <span class="token builtin">string</span><span class="token operator">></span></span> <span class="token operator">=</span> <span class="token constant">S</span> <span class="token keyword">extends</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">infer</span> <span class="token constant">R</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>Space<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span> <span class="token operator">?</span> TrimRight<span class="token operator">&lt;</span><span class="token constant">R</span><span class="token operator">></span> <span class="token operator">:</span> <span class="token constant">S</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä»£ç è¯¦è§£ï¼š</p>
<ul>
<li><code v-pre>TrimLeft</code> å’Œ <code v-pre>TrimRight</code> çš„å®ç°æ€è·¯æ˜¯ç›¸åŒçš„ï¼ŒåŒºåˆ«åœ¨äºç©ºç™½ç¬¦çš„å ä½å‡ºç°åœ¨å·¦ä¾§è¿˜æ˜¯å³ä¾§ã€‚</li>
<li><code v-pre>Trim</code> çš„å®ç°å°±æ˜¯æŠŠ <code v-pre>TrimLeft</code> å’Œ <code v-pre>TrimRight</code> æ‰€åšçš„äº‹æƒ…ç»“åˆèµ·æ¥ã€‚</li>
</ul>
<h2 id="uncapatilize-é¦–å­—æ¯å°å†™" tabindex="-1"><a class="header-anchor" href="#uncapatilize-é¦–å­—æ¯å°å†™"><span>Uncapatilize(é¦–å­—æ¯å°å†™)</span></a></h2>
<blockquote>
<p><code v-pre>Uncapatilize&lt;T&gt;</code>æ˜¯ç”¨æ¥å°†ä¸€ä¸ªå­—ç¬¦ä¸²çš„é¦–å­—æ¯å˜æˆå°å†™çš„ã€‚</p>
</blockquote>
<p>ç”¨æ³•ï¼š</p>
<div class="language-typescript line-numbers-mode" data-ext="ts" data-title="ts"><pre v-pre class="language-typescript"><code><span class="token keyword">type</span> <span class="token class-name">t2</span> <span class="token operator">=</span> Uncapatilize<span class="token operator">&lt;</span><span class="token string">'Christine'</span><span class="token operator">></span> <span class="token comment">// 'christine'</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>ä»£ç å®ç°ï¼š</p>
<div class="language-typescript line-numbers-mode" data-ext="ts" data-title="ts"><pre v-pre class="language-typescript"><code><span class="token keyword">type</span> <span class="token class-name">Uncapatilize<span class="token operator">&lt;</span><span class="token constant">S</span> <span class="token keyword">extends</span> <span class="token builtin">string</span><span class="token operator">></span></span> <span class="token operator">=</span> <span class="token constant">S</span> <span class="token keyword">extends</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">infer</span> firstLetter<span class="token interpolation-punctuation punctuation">}</span></span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">infer</span> <span class="token constant">L</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span> <span class="token operator">?</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>Lowercase<span class="token operator">&lt;</span>firstLetter<span class="token operator">></span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token constant">L</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span> <span class="token operator">:</span> <span class="token constant">S</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>ä»£ç è¯¦è§£ï¼š</p>
<ul>
<li><code v-pre>Uncapatilize&lt;firstLetter&gt;</code>: æˆ‘ä»¬åªéœ€è¦é¦–å­—æ¯ç”¨firstLetterå ä½ï¼Œç”¨å·¥å…·å‡½æ•° <code v-pre>Uncapatilize</code> å°†é¦–å­—æ¯å˜æˆå°å†™ã€‚</li>
</ul>
<h2 id="replace" tabindex="-1"><a class="header-anchor" href="#replace"><span>Replace</span></a></h2>
<blockquote>
<p><code v-pre>Replace&lt;T&gt;</code> æ˜¯ç”¨æ¥å°†å­—ç¬¦ä¸²ä¸­ç¬¬ä¸€æ¬¡å‡ºç°çš„æŸæ®µå†…å®¹ï¼Œä½¿ç”¨æŒ‡å®šçš„å­—ç¬¦ä¸²è¿›è¡Œæ›¿æ¢ã€‚</p>
</blockquote>
<p>ç”¨æ³•ï¼š</p>
<div class="language-typescript line-numbers-mode" data-ext="ts" data-title="ts"><pre v-pre class="language-typescript"><code><span class="token comment">// 'IamPicker'</span>
<span class="token keyword">type</span> <span class="token class-name">t</span> <span class="token operator">=</span> Replace<span class="token operator">&lt;</span><span class="token string">'IamChristine'</span><span class="token punctuation">,</span> <span class="token string">'Christine'</span><span class="token punctuation">,</span> <span class="token string">'Picker'</span><span class="token operator">></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>ä»£ç å®ç°ï¼š</p>
<div class="language-typescript line-numbers-mode" data-ext="ts" data-title="ts"><pre v-pre class="language-typescript"><code><span class="token keyword">type</span> <span class="token class-name">Replace<span class="token operator">&lt;</span>
  <span class="token constant">S</span> <span class="token keyword">extends</span> <span class="token builtin">string</span><span class="token punctuation">,</span>
  from <span class="token keyword">extends</span> <span class="token builtin">string</span><span class="token punctuation">,</span>
  to <span class="token keyword">extends</span> <span class="token builtin">string</span>
<span class="token operator">></span></span> <span class="token operator">=</span> <span class="token constant">S</span> <span class="token keyword">extends</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">infer</span> <span class="token constant">L</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">from</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">infer</span> <span class="token constant">R</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span>
      <span class="token operator">?</span> from <span class="token keyword">extends</span> <span class="token string">''</span>
        <span class="token operator">?</span> <span class="token constant">S</span>
        <span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token constant">L</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>to<span class="token interpolation-punctuation punctuation">}</span></span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token constant">R</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span>
      <span class="token operator">:</span> <span class="token constant">S</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä»£ç è¯¦è§£ï¼š</p>
<ul>
<li><code v-pre>${infer L}${from}${infer R}</code>: <code v-pre>infer L</code> æ˜¯ <code v-pre>Iam</code> çš„å ä½ï¼Œ<code v-pre>form</code>æ˜¯<code v-pre>Christine</code>ï¼Œ<code v-pre>infer R</code>æ˜¯ <code v-pre>ç©ºå­—ç¬¦ä¸²</code> çš„å ä½ã€‚</li>
</ul>
<h2 id="replaceall" tabindex="-1"><a class="header-anchor" href="#replaceall"><span>ReplaceAll</span></a></h2>
<blockquote>
<p><code v-pre>ReplaceAll&lt;T&gt;</code> æ˜¯ç”¨æ¥å°†å­—ç¬¦ä¸²ä¸­å‡ºç°çš„æŸæ®µå†…å®¹ï¼Œä½¿ç”¨æŒ‡å®šçš„å­—ç¬¦ä¸²è¿›è¡Œå…¨å±€æ›¿æ¢ã€‚</p>
</blockquote>
<p>ç”¨æ³•ï¼š</p>
<div class="language-typescript line-numbers-mode" data-ext="ts" data-title="ts"><pre v-pre class="language-typescript"><code><span class="token comment">// 'IamPickerï¼ŒIamPickeryeah'</span>
<span class="token keyword">type</span> <span class="token class-name">t</span> <span class="token operator">=</span> Replace<span class="token operator">&lt;</span><span class="token string">'IamChristineï¼ŒIamChristineyeah'</span><span class="token punctuation">,</span> <span class="token string">'Christine'</span><span class="token punctuation">,</span> <span class="token string">'Picker'</span><span class="token operator">></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>ä»£ç å®ç°ï¼š</p>
<div class="language-typescript line-numbers-mode" data-ext="ts" data-title="ts"><pre v-pre class="language-typescript"><code><span class="token keyword">type</span> <span class="token class-name">ReplaceAll<span class="token operator">&lt;</span><span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token builtin">string</span><span class="token punctuation">,</span> from <span class="token keyword">extends</span> <span class="token builtin">string</span><span class="token punctuation">,</span> to <span class="token keyword">extends</span> <span class="token builtin">string</span><span class="token operator">></span></span> <span class="token operator">=</span> <span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">infer</span> <span class="token constant">L</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">from</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">infer</span> <span class="token constant">R</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span> 
  <span class="token operator">?</span> from <span class="token keyword">extends</span> <span class="token string">''</span> 
    <span class="token operator">?</span> <span class="token constant">T</span>
    <span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>ReplaceAll<span class="token operator">&lt;</span><span class="token constant">L</span><span class="token punctuation">,</span> from<span class="token punctuation">,</span> to<span class="token operator">></span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>to<span class="token interpolation-punctuation punctuation">}</span></span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>ReplaceAll<span class="token operator">&lt;</span><span class="token constant">R</span><span class="token punctuation">,</span> from <span class="token punctuation">,</span>to<span class="token operator">></span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span>
  <span class="token operator">:</span> <span class="token constant">T</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="appendargument-å‡½æ•°è¿½åŠ å½¢å‚" tabindex="-1"><a class="header-anchor" href="#appendargument-å‡½æ•°è¿½åŠ å½¢å‚"><span>AppendArgumentï¼ˆå‡½æ•°è¿½åŠ å½¢å‚ï¼‰</span></a></h2>
<blockquote>
<p><code v-pre>AppendArgument&lt;Fn, A&gt;</code>å¯¹äºç»™å®šçš„å‡½æ•°ç±»å‹ Fnï¼Œä»¥åŠä¸€ä¸ªä»»æ„ç±»å‹ Aï¼Œè¿”å›ä¸€ä¸ªæ–°çš„å‡½æ•° Gã€‚G æ‹¥æœ‰ Fn çš„æ‰€æœ‰å‚æ•°å¹¶åœ¨æœ«å°¾è¿½åŠ ç±»å‹ä¸º A çš„å‚æ•°ã€‚</p>
</blockquote>
<p>ç”¨æ³•ï¼š</p>
<div class="language-typescript line-numbers-mode" data-ext="ts" data-title="ts"><pre v-pre class="language-typescript"><code><span class="token keyword">type</span> <span class="token class-name">Fn</span> <span class="token operator">=</span> <span class="token punctuation">(</span>a<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> b<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token builtin">number</span><span class="token punctuation">;</span>

<span class="token comment">// (args_0: number, args_1: string, args_2: boolean) => number</span>
<span class="token keyword">type</span> <span class="token class-name">Result</span> <span class="token operator">=</span> AppendArgument<span class="token operator">&lt;</span>Fn<span class="token punctuation">,</span> <span class="token builtin">boolean</span><span class="token operator">></span> 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä»£ç å®ç°ï¼š</p>
<div class="language-typescript line-numbers-mode" data-ext="ts" data-title="ts"><pre v-pre class="language-typescript"><code><span class="token keyword">type</span> <span class="token class-name">AppendArgument<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token punctuation">,</span> <span class="token constant">A</span><span class="token operator">></span></span> <span class="token operator">=</span> <span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token punctuation">(</span><span class="token operator">...</span>args<span class="token operator">:</span> <span class="token keyword">infer</span> Params<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token keyword">infer</span> Res <span class="token operator">?</span> <span class="token punctuation">(</span><span class="token operator">...</span>args<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token operator">...</span>Params<span class="token punctuation">,</span> <span class="token constant">A</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">=></span> Res <span class="token operator">:</span> <span class="token builtin">never</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="permutation" tabindex="-1"><a class="header-anchor" href="#permutation"><span>Permutation</span></a></h2>
<blockquote>
<p><code v-pre>Permutation&lt;T&gt;</code></p>
</blockquote>
<h2 id="lengthofstring" tabindex="-1"><a class="header-anchor" href="#lengthofstring"><span>LengthOfString</span></a></h2>
<blockquote>
<p><code v-pre>LengthOfString&lt;T extends string, U extends string[] = []&gt;</code>ç”¨æ¥è®¡ç®—ä¸€ä¸ªå­—ç¬¦ä¸²çš„é•¿åº¦ã€‚</p>
</blockquote>
<p>ç”¨æ³•ï¼š</p>
<div class="language-typescript line-numbers-mode" data-ext="ts" data-title="ts"><pre v-pre class="language-typescript"><code><span class="token keyword">type</span> <span class="token class-name">result</span> <span class="token operator">=</span> LengthOfString<span class="token operator">&lt;</span><span class="token string">'Hello'</span><span class="token operator">></span> <span class="token comment">// 5</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>ä»£ç å®ç°ï¼š</p>
<div class="language-typescript line-numbers-mode" data-ext="ts" data-title="ts"><pre v-pre class="language-typescript"><code><span class="token keyword">type</span> <span class="token class-name">LengthOfString<span class="token operator">&lt;</span><span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token builtin">string</span><span class="token punctuation">,</span> <span class="token constant">U</span> <span class="token keyword">extends</span> <span class="token builtin">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">></span></span> <span class="token operator">=</span> <span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">infer</span> firstLetter<span class="token interpolation-punctuation punctuation">}</span></span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">infer</span> <span class="token constant">R</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span>
  <span class="token operator">?</span> LengthOfString<span class="token operator">&lt;</span><span class="token constant">R</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token operator">...</span><span class="token constant">U</span><span class="token punctuation">,</span> firstLetter<span class="token punctuation">]</span><span class="token operator">></span>
  <span class="token operator">:</span> <span class="token constant">U</span><span class="token punctuation">[</span><span class="token string">'length'</span><span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä»£ç è¯¦è§£ï¼š</p>
<ul>
<li>æˆ‘ä»¬é€šè¿‡ä¸€ä¸ªæ³›å‹çš„è¾…åŠ©æ•°ç»„æ¥å¸®è®¡ç®—å­—ç¬¦ä¸²çš„é•¿åº¦ï¼Œåœ¨ç¬¬ä¸€æ¬¡ç¬¦åˆæ¡ä»¶æ—¶ï¼Œå°†å…¶ç¬¬ä¸€ä¸ªå­—ç¬¦æ·»åŠ åˆ°æ•°ç»„ä¸­ï¼Œåœ¨åç»­çš„é€’å½’è¿‡ç¨‹ä¸­ï¼Œå¦‚æœä¸ç¬¦åˆæ¡ä»¶ï¼Œç›´æ¥è¿”å›T['length']ï¼Œè¿™ä¸ªè¿‡ç¨‹å¯ä»¥ç”¨å¦‚ä¸‹ä»£ç è¡¨ç¤ºï¼š</li>
</ul>
<div class="language-text line-numbers-mode" data-ext="text" data-title="text"><pre v-pre class="language-text"><code>&lt;!-- ç¬¬ä¸€æ¬¡é€’å½’ -->
T: 'Hello' firstLetter: 'H' R: 'ello' U: ['H']
&lt;!-- ç¬¬äºŒæ¬¡é€’å½’ -->
T: 'ello'  firstLetter: 'e' R: 'llo'  U: ['H', 'e']
&lt;!-- ç¬¬ä¸‰æ¬¡é€’å½’ -->
T: 'llo'   firstLetter: 'l' R: 'lo'   U: ['H', 'e', 'l']
&lt;!-- ç¬¬å››æ¬¡é€’å½’ -->
T: 'lo'    firstLetter: 'l' R: 'o'    U: ['H', 'e', 'l', 'l']
&lt;!-- ç¬¬äº”æ¬¡é€’å½’ -->
T: 'o'     firstLetter: 'o' R: ''     U: ['H', 'e', 'l'ï¼Œ 'l', 'o']
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å½“ <code v-pre>T</code> ä¸ºç©ºæ—¶ï¼Œinfer å ä½éœ€è¦å†…å®¹ï¼Œ<code v-pre>firstLetter</code> å’Œ <code v-pre>R</code> éœ€è¦æœ‰ä¸€ä¸ªæœ‰å†…å®¹ï¼Œæ­¤æ—¶ T extends <code v-pre>${infer firstLetter}${infer R}</code>ä¸ºfalseï¼Œæ‰€ä»¥ä¼šæ‰§è¡ŒU['length']</p>
<h2 id="flatten-æ•°ç»„é™ç»´" tabindex="-1"><a class="header-anchor" href="#flatten-æ•°ç»„é™ç»´"><span>Flatten(æ•°ç»„é™ç»´)</span></a></h2>
<blockquote>
<p><code v-pre>Flatten&lt;T&gt;</code> å°†å¤šç»´æ•°ç»„å˜ä¸ºä¸€ç»´æ•°ç»„ã€‚</p>
</blockquote>
<p>ç”¨æ³•ï¼š</p>
<div class="language-typescript line-numbers-mode" data-ext="ts" data-title="ts"><pre v-pre class="language-typescript"><code><span class="token comment">// [1, 2, 3, 4, 5]</span>
<span class="token keyword">type</span> <span class="token class-name">flatten</span> <span class="token operator">=</span> Flatten<span class="token operator">&lt;</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token operator">></span> 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>ä»£ç å®ç°ï¼š</p>
<div class="language-typescript line-numbers-mode" data-ext="ts" data-title="ts"><pre v-pre class="language-typescript"><code><span class="token keyword">type</span> <span class="token class-name">Flatten<span class="token operator">&lt;</span>
  <span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token builtin">any</span><span class="token punctuation">[</span><span class="token punctuation">]</span>
<span class="token operator">></span></span> <span class="token operator">=</span> <span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token punctuation">[</span><span class="token keyword">infer</span> <span class="token constant">L</span><span class="token punctuation">,</span> <span class="token operator">...</span><span class="token keyword">infer</span> Rest<span class="token punctuation">]</span>
      <span class="token operator">?</span> <span class="token constant">L</span> <span class="token keyword">extends</span> <span class="token class-name"><span class="token builtin">any</span></span><span class="token punctuation">[</span><span class="token punctuation">]</span>
        <span class="token operator">?</span> <span class="token punctuation">[</span><span class="token operator">...</span>Flatten<span class="token operator">&lt;</span><span class="token constant">L</span><span class="token operator">></span><span class="token punctuation">,</span> <span class="token operator">...</span>Flatten<span class="token operator">&lt;</span>Rest<span class="token operator">></span><span class="token punctuation">]</span>
        <span class="token operator">:</span> <span class="token punctuation">[</span><span class="token constant">L</span><span class="token punctuation">,</span> <span class="token operator">...</span>Flatten<span class="token operator">&lt;</span>Rest<span class="token operator">></span><span class="token punctuation">]</span>
      <span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div></template>


